<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>GE Foundry Predix Training</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<style>
    em {
        color: darkgrey;
    }

    code {
        color: darkgrey;
    }
</style>

<body>

<div class="reveal">

    <div class="slides">

        <section data-markdown="slides/index.md"></section>

        <section>
            <h6>Plot - <span style="color:deeppink;">The Apps </span></h6>
            <div style="float: top;width:100%;font-size: xx-large;" align="left">
                During this training we will try to create an application that collect information coming from different
                sources
            </div>
            <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                <ul>
                    <li>Place de la nation in Paris
                        <ul>
                            <li>Monitoring of pedestrians stream</li>
                            <li>Monitoring of bicycle stream</li>
                            <li>Monitoring of vehicle stream</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>

        <section>
            <h3>Startup and Ingestion Lvl 1</h3>
            <ul>
                <li><b style="color:grey">&nbsp;&nbsp;8:45 – 10:45</b> Architectural Overview & Predix Tooling</li>
                <li><b style="color:grey">10:45 – 11:00</b> Break</li>
                <li><b style="color:grey">11:00 – 12:45</b> Machine Setup (Dev environment)</li>
                <li><b style="color:grey">12:45 – 13:45</b> Lunch Break</li>
                <li><b style="color:grey">13:45 – 14:45</b> Security Model & UAA</li>
                <li><b style="color:grey">14:45 – 15:00</b> Break</li>
                <li><b style="color:grey">15:00 – 17:00</b> Time Series</li>
            </ul>
        </section>

        <section>
            <section>
                <em>"The cloud is not about where computing is done, it’s about how computing is done.”</em>
                <br/>
                <br/>
                <p align="right">
                    Paul Maritz!<br/>
                    Executive Chairman, Pivotal!
                </p>
            </section>

            <section>
                <h4>Predix Architecture Overview</h4>
                <img src="./images/home_diagrame_2x.png"
                     style="background-color:white;width:1175px;height:404px;">
            </section>

            <section>
                <h4>Why such choice !</h4>
                <img src="./images/slide-1.png"
                     style="background-color:white;width:1600px;height:100%;">
            </section>

            <section>
                <h3 align="left">Cloud Foundry is a bit ironic</h3>
                <h6 align="left">it is <em> opinionated</em></h6>
                It allows you to organize, simplify and lock down your IT infrastructure
                <br/>
                <br/>
                <h6 align="left">It is <em>open and flexible</em></h6>
                <ul>
                    <li> It works on multiple infrastructures (Amazon Web Services,
                        vSphere, OpenStack...)
                    </li>
                    <li> It works in conjunction with your existing applications, tools and services</li>
                    <li> It works with many languages and frameworks</li>
                </ul>
            </section>

            <section>
                <h4>CEO Perspective- Focus on the Business Domain</h4> <br/>
                <p align="left">What is Cloud Foundry from a CEO’s perspective? </p>
                <br/>
                <p align="left">Google, Facebook, Twitter, Netflix, etc. have thousands of engineers working on
                    their
                    unique, consumer-grade platforms</p>
                <br/>
                <p align="left">Cloud Foundry encapsulates industry best practices in a platform, allowing
                    enterprises
                    to
                    <b>focus on their business domain</b></p>
            </section>

            <section>
                <h4>CEO Perspective- Transformational </h4> <br/>
                <p align="left">Cloud Foundry is transformational in two ways:</p> <br/>
                <ol>
                    <li>Business- it facilitates the change to agile, cloud-native software development processes
                    </li>
                    <br/>
                    <li>Technology- enables a simplified, efficient, scalable infrastructure</li>
                </ol>
            </section>

            <!--<section>-->
                <!--<h6>UAA and Login Services</h6>-->
                <!--<div>-->
                    <!--<div style="float: left;width:50%;font-size: xx-large;" align="left">-->
                        <!--<p align="left" style="color:cornflowerblue;">Description:</p>-->
                        <!--<ul style="font-size: x-large;">-->
                            <!--<li>UAA = “User Account and Authentication”</li>-->
                            <!--<li>Provides identity, security and-->
                                <!--authorization services.-->
                            <!--</li>-->
                            <!--<li>Manages third party OAuth 2.0 access credentials</li>-->
                            <!--<li>Can provide application access & identity-as-a-service for CF apps</li>-->
                            <!--<li>Composed of</li>-->
                            <!--<ul>-->
                                <!--<li>UAA Server</li>-->
                                <!--<li>Command Line Interface (UAAC)</li>-->
                                <!--<li>Library.</li>-->
                            <!--</ul>-->
                            <!--<li>Multiple UAA/Login Servers possible</li>-->
                        <!--</ul>-->
                    <!--</div>-->
                    <!--<div style="float: left;width:45%;font-size: xx-large;" align="right">-->
                        <!--<p align="left" style="color:cornflowerblue;">Responsibilities:</p>-->
                        <!--<ul style="font-size: x-large;">-->
                            <!--<li>Token Server</li>-->
                            <!--<li>ID Server (User management)</li>-->
                            <!--<li>OAuth Scopes (Groups) and SCIM (System for Cross-domain Identity Management)</li>-->
                            <!--<li>Login Server</li>-->
                            <!--<ul>-->
                                <!--<li>UAA Database</li>-->
                                <!--<li>SAML support (for SSO-->
                                    <!--integration) and Active Directory support with the VMWare SSO Appliance-->
                                <!--</li>-->
                            <!--</ul>-->
                            <!--<li>Access auditing</li>-->
                        <!--</ul>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</section>-->

            <!--<section>-->
                <!--<h6>Cloud Controller (CC)</h6>-->
                <!--<div>-->
                    <!--<div style="float: left;width:50%;font-size: xx-large;" align="left">-->
                        <!--<p align="left" style="color:cornflowerblue;">Description:</p>-->
                        <!--<ul style="font-size: x-large;">-->
                            <!--<li>Command and Control-->
                                <!--<ul>-->
                                    <!--<li>Responds to clients (CLI, App Manager, IDEs)</li>-->
                                    <!--<li>Account and provisioning control.</li>-->
                                <!--</ul>-->
                            <!--</li>-->
                            <!--<li>Provides RESTful interface to domain objects-->
                                <!--<ul>-->
                                    <!--<li>Apps, services, organizations, spaces, service instances, user roles, and-->
                                        <!--more-->
                                        <!--...-->
                                    <!--</li>-->
                                <!--</ul>-->
                            <!--</li>-->
                            <!--<li>Multiple Cloud Controllers possible-->
                                <!--<ul>-->
                                    <!--<li>Configurable by Admin</li>-->
                                <!--</ul>-->
                            <!--</li>-->
                        <!--</ul>-->
                    <!--</div>-->
                    <!--<div style="float: left;width:45%;font-size: xx-large;" align="right">-->
                        <!--<p align="left" style="color:cornflowerblue;">Responsibilities:</p>-->
                        <!--<ul style="font-size: x-large;">-->
                            <!--<li>Expected Application state</li>-->
                            <!--<li>State transitions</li>-->
                            <!--<li>Permissions/Authorization</li>-->
                            <!--<li>Organizations/Spaces/Users</li>-->
                            <!--<li>Services management</li>-->
                            <!--<li>Auditing/Journaling and billing events</li>-->
                            <!--<li>Blob Storage</li>-->
                        <!--</ul>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</section>-->

            <section>
                <h6>Predix CF Components - 1.4</h6>
                <img src="./images/cf-nodiego.png">
            </section>

            <section>
                <h6>Predix CF Components - Diego</h6>
                <img src="./images/cf-diego.png">
            </section>

            <section>
                <h6>Load Balancer (HA Proxy)</h6>
                <div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Description:</p>
                        <ul>
                            <li>HAProxy is separate component from the Router
                                <ul>
                                    <li>Sits in front of the router</li>
                                    <li>By default only one instance defined</li>
                                </ul>
                            </li>
                            <li>Cloud Foundry can only have one IP address visible to outside world
                                <ul>
                                    <li>This is the Load Balancer</li>
                                    <li>It passes requests to the Router(s) to send to the right CF component</li>
                                </ul>

                            </li>
                        </ul>
                    </div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="right">
                        <p align="left" style="color:cornflowerblue;">Responsibilities:</p>
                        <ul>
                            <li>Load-balancing across multiple routers (if used)</li>
                            <li>SSL Termination</li>
                            <br/>
                            <li><b>Note:</b> Typically need to configure your own HAProxy (in an HA configuration)
                                or
                                other
                                load- balancer (such as F5 or NSX) for improved performance/SSL handling
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <section>
                <h6>(Go) Router</h6>
                <div>
                    <div style="float: left;width:50%;font-size: xx-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Description:</p>
                        <ul>
                            <li>Routes all incoming HTTP traffic
                                <ul>
                                    <li>System traffic (cf commands)</li>
                                    <li>Application traffic</li>
                                </ul>
                            </li>
                            <li>Maintains dynamic routing table for each load-balanced app instance
                                <ul>
                                    <li>Knows IP addresses and ports.</li>
                                </ul>
                            </li>
                            <li>Multiple routers possible
                                <ul>
                                    <li>Configured by admin in Ops Manager</li>
                                    <li>Rewritten in Go since CF 1.4 – the GoRouter</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="right">
                        <p align="left" style="color:cornflowerblue;">Responsibilities:</p>
                        <ul>
                            <li>Load balancing across application instances</li>
                            <li>Maintaining an active routing table</li>
                            <li>Access logs</li>
                            <li>Supports web-sockets</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h6>UAA and Login Services</h6>
                <div>
                    <div style="float: left;width:50%;font-size: xx-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Description:</p>
                        <ul style="font-size: x-large;">
                            <li>UAA = “User Account and Authentication”</li>
                            <li>Provides identity, security and
                                authorization services.
                            </li>
                            <li>Manages third party OAuth 2.0 access credentials</li>
                            <li>Can provide application access & identity-as-a-service for CF apps</li>
                            <li>Composed of</li>
                            <ul>
                                <li>UAA Server</li>
                                <li>Command Line Interface (UAAC)</li>
                                <li>Library.</li>
                            </ul>
                            <li>Multiple UAA/Login Servers possible</li>
                        </ul>
                    </div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="right">
                        <p align="left" style="color:cornflowerblue;">Responsibilities:</p>
                        <ul style="font-size: x-large;">
                            <li>Token Server</li>
                            <li>ID Server (User management)</li>
                            <li>OAuth Scopes (Groups) and SCIM (System for Cross-domain Identity Management)</li>
                            <li>Login Server</li>
                            <ul>
                                <li>UAA Database</li>
                                <li>SAML support (for SSO
                                    integration) and Active Directory support with the VMWare SSO Appliance
                                </li>
                            </ul>
                            <li>Access auditing</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h6>Cloud Controller (CC)</h6>
                <div>
                    <div style="float: left;width:50%;font-size: xx-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Description:</p>
                        <ul style="font-size: x-large;">
                            <li>Command and Control
                                <ul>
                                    <li>Responds to clients (CLI, App Manager, IDEs)</li>
                                    <li>Account and provisioning control.</li>
                                </ul>
                            </li>
                            <li>Provides RESTful interface to domain objects
                                <ul>
                                    <li>Apps, services, organizations, spaces, service instances, user roles, and
                                        more
                                        ...
                                    </li>
                                </ul>
                            </li>
                            <li>Multiple Cloud Controllers possible
                                <ul>
                                    <li>Configurable by Admin</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="right">
                        <p align="left" style="color:cornflowerblue;">Responsibilities:</p>
                        <ul style="font-size: x-large;">
                            <li>Expected Application state</li>
                            <li>State transitions</li>
                            <li>Permissions/Authorization</li>
                            <li>Organizations/Spaces/Users</li>
                            <li>Services management</li>
                            <li>Auditing/Journaling and billing events</li>
                            <li>Blob Storage</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h6>Cloud Controller Database (CCDB)</h6>
                <div>
                    <div style="float: left;width:50%;font-size: xx-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Description:</p>
                        <ul>
                            <li>Storage for application metadata</li>
                            <li>Used exclusively by the Cloud Controller</li>
                        </ul>
                    </div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="right">
                        <p align="left" style="color:cornflowerblue;">Responsibilities:</p>
                        <ul>
                            <li>Stores information like</li>
                            <ul>
                                <li>Application Name</li>
                                <li># of instances requested</li>
                                <li>Memory Limits</li>
                                <li>Routes</li>
                                <li>Bound Services</li>
                            </ul>
                            <li>A Postgres DB instance</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h6>Droplet Execution Agents / Cells</h6>
                <div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Description:</p>
                        <ul style="font-size: x-large;">
                            <li>Droplet Execution Agents (DEA's), renamed “Cells” in Diego</li>
                            <li>Secure and fully isolated containers
                                <ul>
                                    <li>A Virtual Machine (VM)</li>
                                </ul>
                            </li>
                            <li>Periodically broadcast messages about their state</li>
                            <li>Typically many DEA's/cells in a Cloud Foundry installation</li>
                        </ul>
                    </div>

                    <div style="float: left;width:45%;font-size: xx-large;" align="right">
                        <p align="left" style="color:cornflowerblue;">Responsibilities:</p>
                        <ul style="font-size: x-large;">
                            <li>Managing app containers</li>
                            <li>Monitoring resource pools
                                <ul>
                                    <li>Process, file system, network, memory</li>
                                </ul>
                            </li>
                            <li>Managing app lifecycle - starting and stopping apps as instructed</li>
                            <li>App log and file streaming</li>
                            <li>Sending heartbeats for health monitoring</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h6>Warden / Garden</h6>
                <div>
                    <div style="float: left;width:45%;font-size: xx-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Description:</p>
                        <ul>
                            <li>Isolated Process
                                <ul>
                                    <li>Safe, lightweight alternative to full VM</li>
                                </ul>
                            </li>
                            <li>Allows multiple applications to run
                                on each VM
                            </li>
                            <li>Garden is Warden rewritten in Go</li>
                        </ul>
                    </div>
                    <div style="float: left;width: 55%;font-size: xx-large;" align="right">
                        <p align="left" style="color:cornflowerblue;">Responsibilities:</p>
                        <ul>
                            <li>Isolates applications running on the same VM
                                <ul>
                                    <li>Individual failures does not affect other applications on the VM</li>
                                    <li>Uses kernel namespaces to isolate network, disk, memory and CPU</li>
                                    <li>Uses Linux cgroups to do resource management</li>
                                </ul>
                            </li>
                            <li>Secures applications from environment</li>
                            <li>Runs Droplets</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <h6>Where do I work - <span style="color:cadetblue;">Organizations & Spaces</span></h6>
                <div style="float:top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>The <em>Org</em> is the top-most administrative unit</li>
                        <li>Any Cloud Foundry installation can have multiple organizations defined in many way
                            <ul>
                                <li>
                                    Typically a company, department, application suite or large project
                                </li>
                            </ul>
                        </li>
                        <li>Designed to support many users working collaboratively</li>
                    </ul>
                </div>
                <br/>
                <div style="float:bottom;width:100%;font-size: x-large;" align="left">
                    <ul style="font-style:oblique;">
                        <li>Organizations contains multiple <em>spaces</em></li>
                        <li><em>Spaces</em> also can be defined in many way</li>
                        <li>For example, staging and production</li>
                    </ul>
                </div>
                <br/>
                <div style="float:bottom;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Applications and services are bounded to a space <small>(tricks around that)</small></li>
                        <li>Provides a set of users access for:
                            <ul>
                                <li>Application development</li>
                                <li>Functionality and/or performance testing – Quality assurance</li>
                                <li>Deployment to production</li>
                                <li>Maintenance</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>
        </section>

        <section>
            <h6><span style="color:green;"> Break</span></h6>
        </section>

        <section>
            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">Virtual Box Install</span></h6>
                <div>
                    <div style="float: left;width:50%;font-size: x-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">Windows Machine:</p>
                        <ul>
                            <li>If you have a GE laptop the antivirus will block you, you need to install an old version
                                of
                                virtual box:
                                <a href="http://download.virtualbox.org/virtualbox/4.3.12/VirtualBox-4.3.12-93733-Win.exe">Virtual
                                    Box</a></li>
                            <br/>
                            <li>Otherwise you could use the latest and greatest <a
                                    href="http://download.virtualbox.org/virtualbox/5.2.4/VirtualBox-5.2.4-119785-Win.exe">Virtual
                                Box</a></li>
                        </ul>
                    </div>
                    <div style="float: right;width:48%;font-size: x-large;" align="left">
                        <p align="left" style="color:cornflowerblue;">OSX</p>
                        For OSX the easiest way to install virtual box is to use <a href="http://brew.sh/index_fr.html">brew</a><br>
                        <code>
                            brew cask install virtualbox \ virtualbox-extension-pack
                        </code>
                    </div>
                </div>
            </section>
            <section>
                <div>
                    <h6>Predix Dev Tools - <span style="color:cadetblue;">DevBox Install</span></h6>

                    <div style="float: left;width:50%;font-size: x-large;" align="left">
                        <ul style="float:left;font-size: x-large;">
                            <li>
                                For GE Employee go to <a
                                    href="https://devcloud.swcoe.ge.com/devspace/display/SOLSVC/Predix+DevBox+Program">Predix
                                DevBox Program</a>
                                <ul>
                                    <li><a href="http://sc.ge.com/*GEDevBox">DevBox3.5.9-i.ova</a></li>
                                    <li><a href="http://sc.ge.com/*GEDevBox.sha2">sha</a></li>
                                    <li><a href="http://sc.ge.com/*GEDevBox.md5">md5</a></li>
                                </ul>
                            </li>
                            <br>
                            <li>For non Ge Employee go to
                                <ul>
                                    <li><a href="http://sc.ge.com/*PredixDevBox">DevBox3.5.9-e.ova</a></li>
                                    <li><a href="http://sc.ge.com/*PredixDevBox.sha2">sha</a></li>
                                    <li><a href="http://sc.ge.com/*PredixDevBox.md5">md5</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div style="float: right;width:48%;font-size: x-large;" align="left">
                        <ul>
                            <li>Import the Ova into Virtual Box</li>
                        </ul>
                        The output should look like this :
                        <img src="./images/virtualbox.png"/>
                        The login/password is predix/predix
                    </div>
                </div>
            </section>
            <section>
                <div>
                    <h6>Predix Dev Tools - <span style="color:cadetblue;">DevBox Network Setup</span> - <span
                            style="color:crimson;font-size: large;">GE Employee only</span></h6>
                    <div style="float: left;width:50%;font-size: x-large;" align="left">
                        <ol>
                            <li>Login to the virtual machine</li>
                            <li>Open chrome browser go to settings and in proxy set the automatic mode with : <em>http://myapps.setpac.ge.com/pac.pac</em>
                            </li>
                            <li>Check that you can have acces to https://predix.io</li>
                        </ol>
                    </div>
                    <div style="float: right;width:48%;font-size: x-large;" align="left">

                    </div>
                </div>
            </section>
            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">DevBox Network Setup</span> - <span
                        style="color:crimson;font-size: large;">Non GE Employee</span></h6>
                <div style="float: left;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>If you are on a non proxied network you need to remove the proxy from the terminal
                            <ul>
                                <li> Open a terminal and type :
                                    <code>
                                        sudo gedit /etc/bashrc
                                    </code>
                                </li>
                                <li> Go to the botton of the file and comments <br/>
                                    <code>
                                        export http_proxy=http://sjc1intproxy01.crd.ge.com:8080/<br/>
                                        export https_proxy=$http_proxy <br/>
                                        export HTTP_PROXY=$http_proxy <br/>
                                        export HTTPS_PROXY=$http_proxy <br/>
                                        export no_proxy="127.0.0.1,localhost,localhost.localdomain,*.ge.com"
                                    </code>
                                </li>
                            </ul>
                        </li>
                        <li>Logout of the VM and Login again</li>
                        <li>Open a terminal and check that the following command result is empty
                            <code> env | grep http_proxy</code>
                        </li>
                        <li>Try to download google index
                            <code>wget https://www.google.com</code>
                        </li>
                        <li>Check that you have something
                            <code>cat index.html</code></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">DevBox Maven Setup</span> - <span
                        style="color:crimson;font-size: large;">GE & Non Employee</span></h6>
                <div style="float: left;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>On the devbox open <em>~/.m2/settings.xml</em></li>
                        <li>Search for this : <br/>
                            <code>
                                &lt;server&gt;<br/> &lt;id&gt;artifactory.external&lt;/id&gt;<br/> &lt;username&gt;your.predix.io.username&lt;/username&gt;<br/>
                                &lt;password&gt;your.encrypted.password&lt;/password&gt;<br/> &lt;!-- Obtained from
                                https://artifactory.predix.io --&gt;<br/>&lt;/server&gt;
                            </code>
                        </li>
                        <li>Replace username by your predix.io login (email address)</li>
                        <li>For the password get it from artifactory
                            <ul>
                                <li>Go to : <a href="https://artifactory.predix.io">https://artifactory.predix.io</a>
                                </li>
                                <li>Login using you predix.io login and password</li>
                                <li>Click on your name (up right)</li>
                                <li>enter your predix.io password</li>
                                <li>Click on the eye icon om <em>presonnal settings</em> to get your key</li>
                                <li>Copy this key in place of the password in your <em>~/.m2/settings.xml</em></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">DevBox Maven Setup</span> - <span
                        style="color:crimson;font-size: large;">Non GE Employee</span></h6>
                <div style="float: left;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>On the devbox open <em>~/.m2/settings.xml</em></li>
                        <li>Search for proxies:
                            <pre><code data-trim data-noescape>
<p>&lt;proxies&gt;<br/>&lt;proxy&gt;<br/>&lt;id&gt;corporate&lt;/id&gt;<br/>&lt;active&gt;true&lt;/active&gt;<br/>
&lt;protocol&gt;http&lt;/protocol&gt;<br/>&lt;host&gt;sjc1intproxy01.crd.ge.com&lt;/host&gt;<br/>
&lt;port&gt;8080&lt;/port&gt;<br/>&lt;username&gt;proxyuser&lt;/username&gt;<br/>&lt;password&gt;proxypass&lt;/password&gt;<br/>
&lt;nonProxyHosts&gt;127.0.0.1,localhost,localhost.localdomain,*.ge.com&lt;/nonProxyHosts&gt;<br/>
&lt;/proxy&gt;<br/>&lt;/proxies&gt;</p>
                        </code></pre>
                        </li>
                        <li>Comment the whole block</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">Maven Setup</span></h6>
                <div style="float: left;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>If you are on a mac or on linux copy this file <a href="./settings.xml">settings.xml</a> to
                            <em>~/.m2/settings.xml</em></li>
                        <li>Redo the same as previously
                            <ul>
                                <li>With or without the proxy depending of your network</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">Java Language</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>The Devbox comes with STS Tool suite (eclipse based IDE)</li>
                        <li>JDK version is 1.8.0_151</li>
                        <li>Maven version 3.3.9</li>
                    </ul>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul style="font-style:oblique;">
                        <li>During this training we will use only the devbox for simplicity sake</li>
                        <li>Using OSX or Linux is more efficient for heavy duty development</li>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">Non Java Languages</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>For non Java Languages development the devbox include Atom Editor which more than sufficient
                            for the scope of this training
                        </li>
                        <li>For serious development investing into a Intellij Ultimate License might be a good idea</li>
                    </ul>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Node version: 6.3.0</li>
                        <li>Npm version: 3.10.3</li>
                        <li>Python version: 2.7.5</li>
                        <li>Python version: 3.4.3</li>
                        <li>gcc version: 4.8.5</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">Predix cli</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>A simple, text-based Predix client</li>
                        <li>Used by <b>operators</b> and <b>developers</b> to access and work with any Predix
                            installation
                        </li>
                        <li>Anything you do with the CLI can be scripted/automated</li>
                    </ul>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Already install on the devbox</li>
                        <li style="font-style:oblique;">see: <em>https://github.com/PredixDev/predix-cli</em></li>
                        <li>Go for the manual install the one liner is broken</li>
                        <li>See <em>https://github.com/PredixDev/predix-cli/wiki</em> for more info</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">Cf cli primer</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Getting some help
                            <ul>
                                <li><code style="font-size: x-large;"> cf --help</code></li>
                            </ul>
                            <ul>
                                <li><code style="font-size: x-large;"> cf help {command}</code></li>
                            </ul>
                        </li>
                        <li>Login to Cf
                            <ul>
                                <li><code style="font-size: x-large;">cf login -a
                                    https://api.system.aws-usw02-pr.ice.predix.io</code></li>
                                <li>Enter your login and password</li>
                            </ul>
                        </li>
                        <li>Set your Org and Space
                            <ul>
                                <li><code style="font-size: x-large;">cf target -o {Orgname} -s
                                    {SpaceName} </code>
                                </li>
                            </ul>
                        </li>
                        <li>List services available
                            <ul>
                                <li><code style="font-size: x-large;">cf marketplace</code></li>
                            </ul>
                        </li>
                        <li>List running application
                            <ul>
                                <li><code style="font-size: x-large;">cf apps</code></li>
                            </ul>
                        </li>
                        <li>List running services
                            <ul>
                                <li><code style="font-size: x-large;">cf services</code></li>
                            </ul>
                        </li>
                        <li>Deploy an application
                            <ul>
                                <li><code style="font-size: x-large;">cf push -f manifest.yml</code></li>
                                <li>The manifest file describes what kind application you have and all its service
                                    dependencies
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">Predix Cf cli primer suite</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Get log of your app
                            <ul>
                                <li><code style="font-size: x-large;">predix logs {AppName}</code></li>
                                <li>Only latest ones <code style="font-size: x-large;color:darkgrey;">predix logs {AppName} --recent</code></li>
                            </ul>
                        </li>
                        <li>Delete an app
                            <ul>
                                <li><code style="font-size: x-large;">predix cf delete {AppName}</code></li>
                            </ul>
                        </li>
                        <li>Get Environment of a running application
                            <ul>
                                <li><code style="font-size: x-large;">predix cf env {AppName}</code></li>
                            </ul>
                        </li>
                        <li>List running services
                            <ul>
                                <li><code style="font-size: x-large;">predix cf services </code></li>
                            </ul>
                        </li>
                        <li>Get info of a given app
                            <ul>
                                <li><code style="font-size: x-large;">predix cf app {AppName}</code></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Dev Tools - <span style="color:cadetblue;">The .cf Directory </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>cf creates a .cf directory in your home directory</li>
                        <li>Stores context, logs, crash reports ...</li>
                        <li>Remembers your CF API endpoint
                            <ul>
                                <li>Don't need to specify -a option at next login</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Few predix cli usage </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Set your org</li>
                        <li>Create a space named <em>lab</em></li>
                        <li>Set target to lab</li>
                        <li>Create a space named <em>lab2</em></li>
                        <li>Set target to lab2</li>
                        <li>Set target to lab</li>
                        <li>Delete space named <em>lab2</em></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Few cf cli usage </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li><code style="font-size: x-large;">predix cf target -o "Email"</code></li>
                        <li><code style="font-size: x-large;">predix cf create-space lab</code></li>
                        <li><code style="font-size: x-large;">predix cf target -s "lab"</code></li>
                        <li><code style="font-size: x-large;">predix cf create-space lab2</code></li>
                        <li><code style="font-size: x-large;">predix cf target -s "lab2"</code></li>
                        <li><code style="font-size: x-large;">predix cf target -s "lab"</code></li>
                        <li><code style="font-size: x-large;">predix cf delete-space "lab2"</code></li>
                        <li><code style="font-size: x-large;">predix cf target -s "lab"</code></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">The first app </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <pre><code data-trim data-noescape>
mkdir nullApp && cd nullApp
touch Procfile
predix cf push nullApp -b http://github.com/ryandotsmith/null-buildpack.git --no-start --no-route -m 32m -k 64m
                    </code></pre>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Using predix cli try to :
                            <ul>
                                <li>Check the logs</li>
                                <li>Try to scale it to two instances</li>
                                <li>Try to restart the application</li>
                                <li>Delete the application</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>
        </section>

        <section>
            <h6><span style="color:green;"> Break</span></h6>
        </section>

        <section>
            <section>
                <h6>Predix Security Model - <span style="color:cadetblue;"> Architecture intro </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>All inbound Communications are using ssl :
                            <ul>
                                <li><em>https://</em> is the default and must be used as default prefix in the browser
                                </li>
                                <li>For web socket <em>wss</em> is used</li>
                            </ul>
                        </li>
                        <li> No direct tcp inbound : mqtt is not possible</li>
                        <li>Only TLS 1.2 is possible some iot devices not supported</li>
                        <li>Authentication is done using OAuth2.0</li>
                    </ul>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>In CF this role is taken by the UAA service (java service)
                            <ul>
                                <li>Stores user account</li>
                                <li>Stores client</li>
                                <li>Validate token</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Security Model - <span style="color:cadetblue;"> UAA intro </span></h6>
                <div style="float:left;width:110%;font-size: x-large;" align="left">
                    <ul>
                        <li>We must differentiate two kind of usages :
                            <ul>
                                <li style="float:left ;width:50%;" align="left">
                                    Resource access:
                                    <img src="./images/oauth2-get-client.png"/>
                                </li>
                                <li style="float:right ;width:50%;" align="left">
                                    User login:
                                    <img src="./images/oauth2-get-client-auth-code.png"/>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Security Model - <span style="color:cadetblue;"> UAA endpoints </span></h6>
                <div style="float:left;width:120%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Obtain access token at <em>/oauth/token</em></li>
                        <li>Inspect access token at <em>/check_token</em></li>
                        <li>Obtain token key (for decoding JWT tokens locally) at <em>/token_key</em></li>
                        <li>Login ui to access application <em>/login</em></li>
                        <li>Authorization Requests Code <em>/oauth/authorize</em></li>
                        <li>Validate an access token <em>/check_token</em></li>
                        <li>Given an appropriate access_token,  <br>
                            returns information about a user <em>/userinfo</em></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Security Model - <span style="color:cadetblue;">OAuth2</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Resource Access is very suited for stateless services (without any session)
                            <ul>
                                <li>
                                    Only <em>Client(client_id/client_secret)</em> is needed
                                </li>
                            </ul>
                        </li>
                        <li>User login required a session storage (using redis most of the time)
                            <ul>
                                <li>
                                    Require a <em>User Account (login/password)</em> in UAA, a <em> Client
                                    (client_id/client_secret</em> and a <em>Callback</em> setup
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Each time a token is generated we must pay attention to:
                            <ul>
                                <li>it's expiration date</li>
                                <li>it's validation</li>
                            </ul>
                        </li>
                        <li>If the token expire it's needs to be refreshed</li>
                        <li>To validate the token a call to UAA service is needed (extra latency): Fast token to the
                            rescue
                            <ul>
                                <li> it's a library that fetch the UAA token signing key at startup and perform the
                                    validation locally.
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Security Tools - <span style="color:cadetblue;">uaac cli</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>A simple, text-based Cloud foundry uaa client</li>
                        <li>Used by <b>operators</b> and <b>developers</b> to access and work with uaa service instances
                        </li>
                        <li>Anything you do with the uua cli can be scripted/automated</li>
                    </ul>
                </div>
            </section>


            <section>
                <h6>uaac cli - <span style="color:cadetblue;"> primer</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Get or Set target uaa
                            <ul>
                                <li><code style="font-size: x-large;">predix uaa target {uaaUri}</code></li>
                            </ul>
                        </li>
                        <li>Create uaa client
                            <ul>
                                <li><code style="font-size: x-large;">predix uaa client create {client_id} -s
                                    {client_secret} </code></li>
                            </ul>
                        </li>
                        <li>Update uaa client
                            <ul>
                                <li><code style="font-size: x-large;">predix uaa client update {client_id}
                                    {Additional properties} </code></li>
                            </ul>
                        </li>
                        <li>Create a group
                            <ul>
                                <li><code style="font-size: x-large;">predix uaa group add {groupname}</code>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">UAA </span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Using the predix.io console create an UAA service in the space <em>lab</em>
                            <ul>
                                <li>Space: <em>lab</em></li>
                                <li>Instance name: <em>uaa-lab</em></li>
                                <li>Use the <em>Free Plan</em></li>
                                <li>Please keep the password</li>
                                <li>Use <em>lab-{your initials}</em> as subdomains</li>
                            </ul>
                        </li>
                        <li>Select space lab and click on uaa-lab service, login using the password previously saved
                        </li>
                        <li>Add a new client <em>lab-client</em> using the Service instance ui
                            with the following
                            parameters
                            <ul>
                                <li>Client Id:<em>rest-client</em></li>
                                <li>Grant type: <em>client_credentials</em></li>
                                <li>Client Secret: <em>{PICK ONE}</em></li>
                                <li>Scope: <em>uaa.none</em></li>
                                <li>Authorities: <em>uaa.none</em></li>
                                <li>Allowed Providers: <em>uaa</em></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">UAA Automation</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    We said that anything done with cf and uaac cli can be automated...<br/>
                    <pre><code data-trim data-noescape>
                        predix create-service predix-uaa Free uaa-lab -a {UAA_SECRET} -C '{"subdomain":"lab-{your initials}"}'
                    </code></pre>
                </div>
                </br>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <div style="font-size: xx-large;color:darkgrey;">
                    <pre><code data-trim data-noescape>
                            predix uaa client create rest-client -s "{CLIENT_SECRET}" --authorized_grant_types "client_credentials" --scope "uaa.none" --authorities "uaa.none"
                    </code></pre>
                    </div>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Explanation</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Grant type:
                            <ul>
                                <li>An access token can be requested in four different ways, in the Oauth specification
                                    they are referred to as grant types:
                                    <ul>
                                        <li><em>client_credentials</em> - no user involved. requesting a token to
                                            represent a client only
                                        </li>
                                        <li><em>password</em> - the client uses the user's credentials and passes them
                                            to the UAA to generate a token.
                                        </li>
                                        <li><em>implicit</em> - this is similar to the password grant, but a client
                                            password(secret) is not needed
                                        </li>
                                        <li><em>authorization_code</em> - in this scenario, the client never sees the
                                            user's credentials. It is the most secure grant type but relies on 302
                                            redirects from the HTTP protocol.
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>Scope:
                            <ul>
                                <li> Scopes are essentially permissions, and are added as a named parameter in the
                                    access token.
                                    <ul>
                                        <li><em>scope</em> - when the token represents a client acting on behalf of a
                                            user
                                        </li>
                                        <li><em>authorities</em> - when the token represents the client (application)
                                            itself
                                        </li>
                                    </ul>

                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <aside class="notes">
                    This is how the permissions are labeled in the token by the UAA. When a resource
                    server receives a request containing a token, the server can make a decision
                    based on the scopes in the token. The resource MUST validate the token first,
                    there are several ways of doing this discussed in the Oauth 2 specification.
                    The resource server must differentiate between a client only token, and read
                    'authorities', or a client on behalf of user token to read the 'scope' field.
                    The name of the scope, such as <em>password.write</em> are arbitrary strings.
                    They don't mean anything to any component except the resource server that uses
                    them for authorization. For example, <em>password.write</em> is a scope that the
                    must be present in the token when a request to the UAA is made for a password
                    change.
                    Scopes, are arbitrary strings, defined by the client itself. The UAA does use
                    the base name of a scope and adds it to the audience field. The 'base name' is
                    defined as anything before the last dot.
                </aside>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Resource access</span> <span
                        style="color:crimson;font-size: large;"> Console </span>
                </h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>In the devbox install <em>postman</em> its a chrome app that allow you
                            to call any rest api
                        </li>
                        <li>Enter the url of the uaa service <br/> <code>https://lab-{your
                            initials}.predix-uaa.run.aws-usw02-pr.ice.predix.io</code>
                            plus add the extension to obtain a token
                        </li>
                        <li>Send a basic authentication <em>POST</em> request to get a JSON web token for the client
                            <em>rest-client</em></li>

                        <li>You should have something like:</li>
                    </ul>
                    <pre><code data-trim data-noescape>
{
    "access_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI5MzM3Yzc5MzE5MmE0MDcwYjA5ZmQ2MzdmZDZkMzY5MSIsInN1YiI6InJlc3RfY2xpZW50Iiwic2NvcGUiOlsidWFhLm5vbmUiXSwiY2xpZW50X2lkIjoicmVzdF9jbGllbnQiLCJjaWQiOiJyZXN0X2NsaWVudCIsImF6cCI6InJlc3RfY2xpZW50IiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiIzMDBkYmJkOCIsImlhdCI6MTQ4MTEyODIwMSwiZXhwIjoxNDgxMTcxNDAxLCJpc3MiOiJodHRwczovL2xhYi5wcmVkaXgtdWFhLnJ1bi5hd3MtdXN3MDItcHIuaWNlLnByZWRpeC5pby9vYXV0aC90b2tlbiIsInppZCI6IjIyMTQ0NmQyLTNiNWUtNDAyYy1hNmQ1LTZhYWVjZTIyZDQzYiIsImF1ZCI6WyJyZXN0X2NsaWVudCJdfQ.h3QEK1hP5pgWWpYRoqnthKhh7_FbhKXSs_7tbEcOvqB59E46zFDC4btiBJjN7k6D1waTkuHaXiXaUxpnijwDamsHl7qfayHBkX5tDie7YQL9v4n49AJpLkA-sONDbdjr0TdbtlLYxqABInHoWEQgWEHhMBWrZDfFCiIneRWNCvwAS_d84bm2YeoodlLBG8tfo3IxxDOaB_HD0kaxeR5X54lvoahXC31m3STsxqbZSsODTggIPgphKfnQH4oSmVePDpA1LV51J0r32EhPXvXEUOSkzad3wlr365Hp7Gb36J3i-d4yfbRqLSreMmI7h2AFbBy4M5YhKHEt_DlzWnOJBw","token_type": "bearer",
    "expires_in": 43199,
    "scope": "uaa.none",
    "jti": "9337c793192a4070b09fd637fd6d3691"
}
                    </code></pre>
                    <ul>
                        <div style="float: top;width:100%;font-size: x-large;">Hints:
                            <ul>
                                <li>You need a Basic Auth Header (Postman can generate it for you) containing
                                    {client_id}:{client_secret}
                                </li>
                                <li>The body of the request need to include the <em>grant_type</em></li>
                                <li> Use <em>x-www-form-urlencoded</em></li>
                            </ul>
                        </div>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Lab - <span style="color:deeppink;">Resource access</span> <span
                        style="color:crimson;font-size: large;"> Console </span>
                </h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Enter the url of the uaa service <br/> <code>https://lab-{your
                            initials}.predix-uaa.run.aws-usw02-pr.ice.predix.io</code>
                            plus add the extension to check a token
                        </li>
                        <li>Send a basic authentication <em>POST</em> request to check the bearer token
                            <em>rest-client</em></li>
                        <li>You should have something like:</li>
                    </ul>
                    <pre><code data-trim data-noescape>
{"error":"access_denied","error_description":"Access is denied"}
                    </code></pre>
                    <ul>
                        <div style="float: top;width:100%;font-size: x-large;">Hints:
                            <ul>
                                <li>You need a Basic Auth Header (Postman can generate it for you) containing
                                    {client_id}:{client_secret}
                                </li>
                                <li>The body of the request need to include the <em>token</em> with the token you got
                                    from the previous call.
                                </li>
                                <li>Use <em>x-www-form-urlencoded</em></li>
                            </ul>
                        </div>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Lab - <span style="color:deeppink;">Resource access</span> <span
                        style="color:crimson;font-size: large;"> Console </span>
                </h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>To check the token the client needs to have <em>uaa.resource</em> in its
                            <em>Authorities</em></li>
                        <li>Using the UAA dashboard edit the client to update the client</li>
                        <li>ReSend the previous request request</li>
                        <li>You should have something like:</li>
                    </ul>
                    <pre><code data-trim data-noescape>
                        {
  "client_id": "rest-client",
  "exp": 1481172828,
  "scope": [
    "uaa.none"
  ],
  "jti": "d8fd8a1cc0714bfd97870ff50f677034",
  "aud": [
    "rest-client"
  ],
  "sub": "rest-client",
  "iss": "https://lab-{your initials}.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/token",
  "iat": 1481129628,
  "cid": "rest-client",
  "grant_type": "client_credentials",
  "azp": "rest-client",
  "zid": "221446d2-3b5e-402c-a6d5-6aaece22d43b",
  "rev_sig": "300dbbd8",
  "revocable": false
}
                    </code></pre>
                </div>
            </section>
            <section>
                <h6>Lab - <span style="color:deeppink;">Resource access </span> <span
                        style="color:crimson;font-size: large;"> Predix cli </span>
                </h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>To check the token the client needs to have <em>uaa.resource</em> in its
                            <em>Authorities</em></li>
                        <li>Using the predix uaa cli to update the client</li>
                        <li>ReSend the previous request request</li>
                        <li>You should have something like:</li>
                    </ul>
                    <pre><code data-trim data-noescape>
                        {
  "client_id": "rest-client",
  "exp": 1481172828,
  "scope": [
    "uaa.none"
  ],
  "jti": "d8fd8a1cc0714bfd97870ff50f677034",
  "aud": [
    "rest-client"
  ],
  "sub": "rest-client",
  "iss": "https://lab-{your initials}.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/token",
  "iat": 1481129628,
  "cid": "rest-client",
  "grant_type": "client_credentials",
  "azp": "rest-client",
  "zid": "221446d2-3b5e-402c-a6d5-6aaece22d43b",
  "rev_sig": "300dbbd8",
  "revocable": false
}
                    </code></pre>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Resource access</span> <span
                        style="color:crimson;font-size: large;"> Cli Solution</span>
                </h6>
                <div style="font-size: xx-large;" align="left">
                    <pre><code data-trim data-noescape>
predix uaa login lab-{your initials}
predix uaa client update rest-client --authorities "uaa.none uaa.resource"
                        </code></pre>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">UAA Login</span> <span style="color:crimson;font-size: large;"> Console </span>
                </h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Using the UAA dashboard create a new client name <em>login_client</em> with the following
                            properties:
                            <ul>
                                <li>Client Id:<em>login_client</em></li>
                                <li>Grant type: <em>authorization_code</em></li>
                                <li>Client Secret: <em>{client_secret}</em></li>
                                <li>Scope: <em>uaa.none</em></li>
                                <li>Authorities: <em>uaa.none</em> and <em>uaa.user</em></li>
                                <li>Allowed Providers: <em>uaa</em></li>
                                <li>Redirect URL: <em>https://www.getpostman.com/oauth2/callback</em></li>
                            </ul>
                        </li>
                        <li>Create a User with the following properties:
                            <ul>
                                <li>User Name: <em>{Pick one email}</em></li>
                                <li>Email: <em>{Pick one email}</em></li>
                                <li>Password: <em>{Pick one}</em></li>
                                <li>Given Name: <em>{Pick One}</em></li>
                                <li>Active: check it</li>
                                <li>Verified: check it</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">UAA Login</span> <span
                        style="color:crimson;font-size: large;"> CLI Solution</span>
                </h6>
                <div style="font-size: xx-large;" align="left">
                                        <pre><code data-trim data-noescape>
predix uaa login lab-{your initials}
predix uaa client create login_client -s {SECRET} --authorized_grant_types "authorization_code" --scope "uaa.none uaa.user" --authorities "uaa.none" --redirect_uri "https://www.getpostman.com/oauth2/callback"
predix uaa user create {Pick One} --emails "{Pick One}" --given_name "{Pick One}" -p "{Pick One}"</code></pre>
                </div>
                <div style="font-size: xx-large;" align="left">
                    Be carefull with the password format :
                    <pre><code data-trim data-noescape>
                    Invalid status response: 400. Password must be at least 8 characters in length. Password must contain at least 1 special characters. Password must contain at least 2 digit characters. Password must contain at least 2 uppercase characters.
                    </code></pre>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">UAA Login </span> <span style="color:crimson;font-size: large;"> GUI  </span>
                </h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>In postman open Authorization Helper and select OAuth2.0 and enter :
                            <ul>
                                <li>Token Name: <em>Bearer</em></li>
                                <li>Callback URL: https://www.getpostman.com/oauth2/callback</li>
                                <li>Auth URL:
                                    <em>https://lab-{your
                                        initials}.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/authorize</em></li>
                                <li>Access Token URL: <em>https://lab-{your
                                    initials}.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/token</em>
                                </li>
                                <li>Client ID: login_client</li>
                                <li>Client Secret: {client_secret}</li>
                                <li>Grant Type: <em>Authorization Code</em></li>
                            </ul>
                        </li>
                        <li>Press Request Token</li>
                        <li>At the end you will have a Bearer token registered that could be added to any request
                        </li>
                    </ul>
                </div>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li class="fragment fade-up">What can be added to remove the approval step ?</li>
                        <li class="fragment fade-up">
                            <code>
                                predix uaa client update login_client --autoapprove "uaa.user"
                            </code>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Security - <span style="color:cadetblue;">Multi Language</span></h6>
                <ul>
                    <li><a href="#/JavaUAA">Java</a></li>
                    <li><a href="#/PythonUAA">Python</a></li>
                    <!--<li><a href="#/Node.JsUAA">Node.js</a></li>-->
                </ul>
            </section>
        </section>

        <section>
            <section id="JavaUAA">
                <h6>Lab - <span style="color:deeppink;"> Securing Application with Java - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Clone the git repository <em>https://github.com/BLaurent/predix-starter</em></li>
                        <li>Go to the directory security-demo</li>
                        <li>Compile it and deploy
                            <pre><code data-trim data-noescape>
mvn clean package
predix cf push
                        </code></pre>
                        </li>
                        <li>Check that the application is working by opening a browser and checking that <em>/dashboard?user=toto</em>
                        </li>
                        <li>This is important to prefix things with <em>https</em></li>
                    </ul>
                </div>
            </section>


            <section>
                <h6>Lab - <span style="color:deeppink;"> Securing application with Java - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Add in the pom
                            <pre><code data-trim data-noescape>
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
&lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;
&lt;/dependency&gt;
                            </code></pre>
                        </li>
                        <pre><code data-trim data-noescape>
mvn clean package
predix cf push
                        </code></pre>
                        <li>
                            Open the same URL as before, you should have a prompt for a basic auth login
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Securing application with Java - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>We need to enable the User auth mechanism</li>
                        <li class="fragment fade-in">
                            Add the following annotation <em>@EnableOAuth2Sso</em> after the <em>@Log</em> annotation in the class <em>SecurityDemoApplication</em>
                        </li>
                        <li class="fragment fade-in">Open the application.yml file and uncomment all lines</li>
                        <li class="fragment fade-in">Change all things that fit your setup: <em>clientId</em>, <em>clientSecret</em>, <em>accessTokenUri</em>, <em>userAuthorizationUri</em>, <em>userInfoUri</em></li>
                        <li class="fragment fade-in"> This should look like that
                            <pre><code data-trim data-noescape>
security:
  oauth2:
    client:
      clientId: login_client
      clientSecret: secret
      accessTokenUri: https://lab-demo.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/token
      userAuthorizationUri: https://lab-demo.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/authorize
      tokenName: oauth_token
    resource:
      userInfoUri: https://lab-demo.predix-uaa.run.aws-usw02-pr.ice.predix.io/userinfo
spring:
  resources:
    chain:
      enabled: true
logging:
  level:
    org:
      springframework:
        security: DEBUG
                            </code></pre>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Securing application with Java - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Redo the deployment and open the url as in the previous step</li>
                        <li class="fragment fade-in">You now have a login page: enter the login and password of the user you've created</li>
                        <li class="fragment fade-in">You should should have an error :
                            <em>
                                Invalid redirect
                            </em>
                        </li>
                        <li class="fragment fade-in">
                            We didn't setup the url redirection in the token as we did for postman. With spring the URL is by default: <em>http://{Your App URL}/login</em>
                        </li>
                        <li class="fragment fade-in">
                            Either with the web console or with the Cli update the <em>login_client</em> to enable the redirection
                        </li>
                    </ul>
                    <pre class="fragment fade-in"><code data-trim data-noescape>
predix uaa client update login_client --authorized_grant_types "authorization_code" --scope "uaa.none uaa.user" --authorities "uaa.none" --redirect_uri "https://www.getpostman.com/oauth2/callback, http://security-demo-noisy-numbat.run.aws-usw02-pr.ice.predix.io/login"
                        </code></pre>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Securing application with Java - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Redo the deployment and open the url as in the previous step</li>
                        <li class="fragment fade-in">You now have a login page: enter the login and password of the user you've created</li>
                        <li class="fragment fade-in">You should should have an error :
                            <em>
                                Authentication Failed: Could not obtain user details from token
                            </em>
                        </li>
                        <li class="fragment fade-in">
                            We didn't enable the sso login on the client to fetch <em>userinfo</em> from uaa <a href="https://github.com/cloudfoundry/uaa/blob/master/docs/UAA-Security.md#user-profiles">UAA SSO</a>,
                            <a href="https://github.com/cloudfoundry/uaa/blob/master/docs/UAA-APIs.rst#openid-user-info-endpoint-get-userinfo">UAA user info</a>
                        </li>
                        <li class="fragment fade-in">
                            Either with the web console or with the Cli update the <em>login_client</em> to enable the redirection
                        </li>

                    </ul>
                    <pre class="fragment fade-in"><code data-trim data-noescape>
predix uaa client update login_client --authorized_grant_types "authorization_code" --scope "uaa.none uaa.user openid" --authorities "uaa.none" --redirect_uri "https://www.getpostman.com/oauth2/callback, https://security-demo-noisy-numbat.run.aws-usw02-pr.ice.predix.io"
                        </code></pre>
                </div>
            </section>

            <section>
                <h6><span style="color:cadetblue;"> Securing application with Java - Summary</span><span
                        style="color:crimson;font-size: large;"> </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">

                    <ul>
                        <li>We seen how to use <em>@EnableOAuth2Sso</em> to manage user login
                            <ul>
                                <li>Your web server is in Java maybe have a look to <a href="http://www.jhipster.tech/presentation/#/"> JHipster</a></li>
                                <li>You do not known Node.js (Predix web server is written in Node.js)</li>
                            </ul>
                        </li>

                        <li class="fragment fade-in">
                            What happen if we want to secure services with only not user facing rest endpoints
                        </li>

                    </ul>
                </div>
            </section>

            <section>

                <h6> <span style="color:cadetblue;"> Securing REST endpoints with Java - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">

                    <ul>
                        <li>Go into the <em>simple-predix-service</em> directory this directory will serve as a base for many of our experiments</li>
                        <li>The heart of this feature is a Single Java Class, an annotation and GE package:
                            <ul>
                                <li> The <em>@EnableResourceServer</em> annotation configure our endpoints to be secured</li>
                                <li>Class SecurityConfig extends <em>ResourceServerConfigurerAdapter</em> complex rules</li>
                                <li><em>uaa-token-lib</em> GE package allow you to implement fast token with UAA see <a href="#/FastToken">fast token slide</a> </li>
                            </ul>
                        </li>
                    </ul>
                </div>

            </section>

            <section>

                <h6> Lab - <span style="color:deeppink;"> Securing REST endpoints with Java - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>

                <ul>
                    <li>Update the <em>manifest.yml</em> file to match your previous configuration</li>
                    <li>You need to enable the proper profile <em>SPRING_PROFILES_ACTIVE: security</em> add it to <em>env</em></li>
                    <li>Add the <em>@EnableResourceServer</em> annotation under the <em>@SpringBootApplication</em> annotation</li>
                    <li>Deploy this application </li>
                    <li>Using your browser try to reach the URL : <em>https://Your App/dashboard?user=toto</em> </li>
                    <li>Open Postman and try to generate a request including the token to make it work</li>
                </ul>
            </section>

        </section>

        <section>
            <section id="PythonUAA">
                <h6>Lab - <span style="color:deeppink;"> Securing REST endpoints with Python - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                Securing Rest endpoint is a more manual to setup

                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Clone the git repository <em>https://github.com/BLaurent/predix-starter</em></li>
                        <li>We use <em>Flask</em> package as server with python 3.6</li>
                        <li>Deploying application is done using <em>Predix CLI</em></li>
                        <li>go to the <em>simple-predix-service-python</em> directory</li>
                    </ul>
                    <pre><code style="font-size: x-large;" data-trim data-noescape>
predix cf push
                    </code></pre>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Securing REST endpoints with Python - </span><span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>

                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>To run it locally</li>
                    </ul>
                    <pre><code data-trim data-noescape>
pip install pipenv
pipenv install --three
pipenv shell
python app.py runserver
                    </code></pre>
                    <ul>
                        <li>Open a new terminal</li>
                    </ul>
                    <pre><code data-trim data-noescape>
curl http://127.0.0.1:8080/api/v1/drones
"Hello World!"
                    </code></pre>
                    <ul>
                        <li>Uncomment the line containing <em>@app.before_request</em></li>
                        <li>Deploy the application
                            <pre><code data-trim data-noescape>
predix cf push
                    </code></pre>
                        </li>
                        <li>Open Your browser and check that the security in enabled
                            <pre><code data-trim data-noescape>
https://simple-predix-service-python-xxx-yyy.run.aws-usw02-pr.ice.predix.io/api/v1/drones
                            </code></pre>
                        </li>
                        <li> This shall gave you an error:
                            <pre><code data-trim data-noescape>
{
message: "The server could not verify that you are authorized to access the URL requested.
                                You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required."
}
                            </code></pre>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6> <span style="color:cadetblue;"> Securing REST endpoints with Python </span><span
                        style="color:crimson;font-size: large;"> </span></h6>

                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>We rely on <em>Flask</em> decorator <em>before_request</em> to execute the token validation before processing the request</li>
                        <li>Each rest end point is describe as a blueprint class in the <em>drones</em> package</li>
                        <li>Predix python SDK to simplify bootstrap and the integration Predix</li>
                        <li>Fast Token is not implemented yet, the download of the key is needed</li>
                        <li>Some dependencies have been updated for this training to support py3 <a href="https://github.com/BLaurent/predixpy">see</a> </li>
                    </ul>
                </div>
            </section>
        </section>

        <section>
            <h6><span style="color:cadetblue;"> Anatomy of an application</span><span
                    style="color:crimson;font-size: large;"> Devbox </span></h6>
            <div style="float: top;width:100%;font-size: x-large;" align="left">
                How do we depoy an App ?

                <ul>
                    <li>Cloud Foundry support many languages: Java, Node.js, Python, Php...</li>
                    <li>Some property of the application are in a <em>manifest.yml</em> file:
                        <pre><code data-trim data-noescape>
---
applications:
  - name: simple-predix-service
    random-route: true
    memory: 512M
    disk_quota: 512M
    instances: 1
    buildpack: java-buildpack
    path: target/simple-predix-service-0.0.1-SNAPSHOT.jar
    services:
      - uaa-lab
    env:
      uaaClientId: rest-client
      uaaClientSecret: rest-client
      SPRING_PROFILES_ACTIVE: security
                        </code></pre>
                    </li>
                    <li>Source code is uploaded, then packaged into a container</li>
                    <li>This packaging is done using a buildpack: <strong>The recipe</strong>
                    <ul>
                        <li>Dependencies: pip install, npm install, ...</li>
                        <li>Handling of the routing</li>
                        <li>Allocation of resources</li>
                        <li>...</li>
                    </ul>
                    </li>
                    <li>Example of cf push output:
                        <pre><code data-trim data-noescape style="font-size: smaller">
Pushing from manifest to org European_Foundry_Basic / space machine as Benoit.Laurent@ge.com...
Using manifest file /Users/benoitlaurent/Git/predix-starter/simple-predix-service/manifest.yml
Getting app info...
Creating app with these attributes...
+ name:         simple-predix-service
  path:         /Users/benoitlaurent/Git/predix-starter/simple-predix-service/target/simple-predix-service-0.0.1-SNAPSHOT.jar
+ buildpack:    java-buildpack
+ disk quota:   512M
+ instances:    1
+ memory:       512M
  services:
+   uaa-lab
  env:
+   SPRING_PROFILES_ACTIVE
+   uaaClientId
+   uaaClientSecret
  routes:
+   simple-predix-service-quiet-parrot.run.aws-usw02-pr.ice.predix.io

Creating app simple-predix-service...
Mapping routes...
Binding services...
Comparing local files to remote cache...
Packaging files to upload...
Uploading files...
 1.29 MiB / 1.29 MiB [========================================================================================================================================================================] 100.00% 2s

Waiting for API to complete processing files...

Staging app and tracing logs...
   -----> Downloaded app package (51M)
   -----> Java Buildpack Version: v3.13 | https://github.com/cloudfoundry/java-buildpack.git#03b493f
   -----> Downloading Open Jdk JRE 1.8.0_121 from https://java-buildpack.cloudfoundry.org/openjdk/trusty/x86_64/openjdk-1.8.0_121.tar.gz (0.8s)
          Expanding Open Jdk JRE to .java-buildpack/open_jdk_jre (1.0s)
   -----> Downloading Open JDK Like Memory Calculator 2.0.2_RELEASE from https://java-buildpack.cloudfoundry.org/memory-calculator/trusty/x86_64/memory-calculator-2.0.2_RELEASE.tar.gz (0.0s)
          Memory Settings: -Xms317161K -XX:MetaspaceSize=64M -XX:MaxMetaspaceSize=64M -Xss228K -Xmx317161K
   -----> Downloading Container Certificate Trust Store 2.1.0_RELEASE from https://java-buildpack.cloudfoundry.org/container-certificate-trust-store/container-certificate-trust-store-2.1.0_RELEASE.jar (0.0s)
          Adding certificates to .java-buildpack/container_certificate_trust_store/truststore.jks (0.3s)
   -----> Downloading Spring Auto Reconfiguration 1.12.0_RELEASE from https://java-buildpack.cloudfoundry.org/auto-reconfiguration/auto-reconfiguration-1.12.0_RELEASE.jar (0.0s)

   -----> Uploading droplet (97M)

Waiting for app to start...

name:              simple-predix-service
requested state:   started
instances:         1/1
usage:             512M x 1 instances
routes:            simple-predix-service-quiet-parrot.run.aws-usw02-pr.ice.predix.io
last uploaded:     Tue 23 Jan 12:40:19 CET 2018
stack:             cflinuxfs2
buildpack:         java-buildpack
start command:     CALCULATED_MEMORY=$($PWD/.java-buildpack/open_jdk_jre/bin/java-buildpack-memory-calculator-2.0.2_RELEASE -memorySizes=metaspace:64m..,stack:228k..
                   -memoryWeights=heap:65,metaspace:10,native:15,stack:10 -memoryInitials=heap:100%,metaspace:100% -stackThreads=300 -totMemory=$MEMORY_LIMIT) && JAVA_OPTS="-Djava.io.tmpdir=$TMPDIR
                   -XX:OnOutOfMemoryError=$PWD/.java-buildpack/open_jdk_jre/bin/killjava.sh $CALCULATED_MEMORY
                   -Djavax.net.ssl.trustStore=$PWD/.java-buildpack/container_certificate_trust_store/truststore.jks -Djavax.net.ssl.trustStorePassword=java-buildpack-trust-store-password" &&
                   SERVER_PORT=$PORT eval exec $PWD/.java-buildpack/open_jdk_jre/bin/java $JAVA_OPTS -cp $PWD/. org.springframework.boot.loader.JarLauncher

     state     since                  cpu      memory           disk             details
#0   running   2018-01-23T11:41:45Z   333.4%   429.9M of 512M   178.9M of 512M
                        </code></pre>
                    </li>
                </ul>
            </div>

        </section>

        <!--<section id="Node.JsUAA">-->
        <!--<h6>Data Ingestion/Query - <span style="color:cadetblue;">Securing Node.js Application</span></h6>-->
        <!--</section>-->

        <section>
            <h6><span style="color:green;"> Break</span></h6>
        </section>

        <section>
            <section>
                <h6>Data Ingestion/Query - <span style="color:cadetblue;">TimeSeries Intro</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>
                            The Time Series service enables you to quickly and efficiently ingest, store, and analyze
                            time-series data.
                        </li>
                        <li>The query API allows you to query data using groups, time ranges, values, aggregations,
                            qualities, and filters
                        </li>
                    </ul>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>We are going to ingest several datasets and build our application around</li>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Data Ingestion/Query - <span style="color:cadetblue;">TimeSeries Architecture</span></h6>
                <div style="-webkit-column-count: 2;">
                    <div style="width:100%;font-size: x-large;">
                        <img style="margin: 0;width:auto;"
                             src="./images/Time_Series_High_Level_Architecture_resize.png"/>
                    </div>
                    <div style="float:left;width:100%;font-size: large;" align="left">
                        <ul>
                            <li>Same Cloud service different use case:
                                <ul>
                                    <li><b>Site A:</b> <br/>
                                        Sensors produce time series data associated with a tag name and send it to
                                        Historian for storage and management. S2C subscribes to tags and collects
                                        generated data from those tags only. S2C requests a websocket connection from a
                                        gateway application that is used for data ingestion.
                                    </li>
                                    <li><b>Site B:</b> <br/>
                                        The WebSocket River establishes a connection when you first attempt a data
                                        transfer and keeps that channel open for as long as possible. Each data transfer
                                        verifies that the websocket connection is open. If the connection has been
                                        closed, the service opens a new connection. For more information about WebSocket
                                        River, see WebSocket River.
                                        To communicate with the Time Series gateway, the data must be structured as
                                        shown in Pushing Time Series Data.
                                    </li>
                                    <li><b>Site C:</b><br/>
                                        Devices use an application to communicate directly with the websocket.
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="fragment fade-up" style="width:100%;font-size: x-large;color:greenyellow"> In our case we
                    will focus only on case C direct websocket connection to Timeseries
                </div>
            </section>

            <section>
                <h6>Data Ingestion/Query - <span style="color:cadetblue;">TimeSeries APIs</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>The Time series service offers two APIs:
                            <ul>
                                <li>WebSocket: for data ingestion <br/><em>wss://gateway-predix-data-services.run.asv-pr.ice.predix.io/v1/stream/messages</em>
                                    <ul>
                                        <li>
                                            Supported Payload format: Json and GZIP Json
                                        </li>
                                        <li>
                                            Decompressed Payload size cannot be greater than 512K
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    REST API: for data query and basic aggregation <br/>
                                    <em>
                                        https://time-series-store-predix.run.asv-pr.ice.predix.io
                                    </em>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <br/>
                <div style="float: bottom;width:100%;font-size: x-large;" align="left">
                    The API endpoints are the same whatever TimeService service instance we created. To differentiate
                    between instances there is a tenant ID named :
                    <em>predix-zone-id</em> that needs to be included in any headers (https, wss) sent to Timeseries
                    Services.
                </div>
            </section>

            <section>
                <h6>Data Ingestion/Query - <span style="color:cadetblue;">TimeSeries Query API</span></h6>
                <div style="font-size: x-large;" align="left">
                    <div style="-webkit-column-count: 2;">
                        <div>POST <em>/v1/datapoints</em> <br/>
                            Payload:
                            <pre><code data-trim data-noescape>
{
  "tags": [
    {
      "name": "Compressor-2015:CompressionRatio",
      "order": "desc",
      "aggregations": [
        {
          "type": "avg",
          "sampling": {
            "unit": "s",
            "value": "30"
          }
        }
      ]
    }
  ],
  "start": 1452112200000,
  "end": 1453458896222
}
                        </code></pre>
                        </div>
                        <div>GET <em>/v1/tags</em></div>
                        <div>POST <em>/v1/datapoints</em>
                            Payload:
                            <pre><code data-trim data-noescape>
{
  "start": "1y-ago",
  "tags": [
    {
      "name": "Compressor-2015:CompressionRatio",
      "order": "desc",
      "groups": [
        {
          "name": "quality"
        }
      ]
    }
  ]
}
                            </code></pre>
                        </div>
                        <div> POST <em>/v1/datapoints/latest</em>
                            Payload:
                            <pre><code data-trim data-noescape>
{
  "tags": [
    {
      "name": "Compressor-2015:CompressionRatio"
    }
  ]
}
                        </code></pre>
                        </div>
                        <div>POST <em>/v1/datapoints</em>
                            Payload:
                            <pre><code data-trim data-noescape>
{
  "cache_time": 0,
  "tags": [
    {
      "name": "Compressor-2015:CompressionRatio",
      "order": "desc",
      "limit": 2
    }
  ],
  "start": 1452112200000,
  "end": 1453458896222
}
                        </code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h6>Cloud Foundry Interlude - <span style="color:cadetblue;">Service Management</span> - <span
                        style="color:crimson;font-size: large;"> Devbox</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>List all services available:
                            <ul>
                                <li><em>cf marketplace</em></li>
                            </ul>
                        </li>
                        <li>Create a service:
                            <ul>
                                <li><em>cf create-service {service name} {service plan} {service instance name}</em>
                                </li>
                            </ul>
                        </li>
                        <li>Bind an application to a running service
                            <ul>
                                <li><em>cf bind-service {App Name} {service instance name}</em></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Cloud Foundry Interlude - <span style="color:cadetblue;">Service Management</span></h6>
                <div style="-webkit-column-count: 2;font-size: x-large;">
                    <ul>
                        <li>Each time you bind a service to an application an environment variables called
                            <em>VCAP</em>
                            is updated
                        </li>
                        <li>This variable contains a json object that contains various information:
                            <ul>
                                <li><em>Credentials</em></li>
                                <li><em>Zone id</em></li>
                                <li><em>Dashboard url</em></li>
                            </ul>
                        </li>
                        <li>Various framework abstract the access to this variable to handle service authentication
                            transparently and service discovery
                        </li>
                        <li>A binded service cannot be deleted :</li>
                    </ul>
                    <pre><code data-trim data-noescape style="font-size: small;">
predix delete-service uaa-foundry

Really delete the service uaa-foundry?> y
Deleting service uaa-foundry in org European_Foundry_Basic / space demos-dev as Benoit.Laurent@ge.com...
FAILED
Cannot delete service instance, service keys and bindings must first be deleted
                            </code></pre>

                    <pre><code data-trim data-noescape style="font-size: small;">
{
  "staging_env_json": {},
  "running_env_json": {},
  "environment_json": {},
  "system_env_json": {
    "VCAP_SERVICES": {
      "predix-uaa": [
        {
          "credentials": {
            "issuerId": "https://demos-dev.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/token",
            "subdomain": "demos-dev",
            "zone": {
              "http-header-value": "f082b5bf-37b6-4720-9a9b-fe06efd274d0",
              "http-header-name": "X-Identity-Zone-Id"
            },
            "uri": "https://demos-dev.predix-uaa.run.aws-usw02-pr.ice.predix.io"
          },
          "syslog_drain_url": null,
          "volume_mounts": [],
          "label": "predix-uaa",
          "provider": null,
          "plan": "Tiered",
          "name": "uaa-foundry",
          "tags": []
        }
      ]
    }
  },
  "application_env_json": {
    "VCAP_APPLICATION": {
      "limits": {
        "fds": 16384,
        "mem": 1024,
        "disk": 1024
      },
      "application_name": "cfapp-UBmZpR",
      "application_uris": [],
      "name": "cfapp-UBmZpR",
      "space_name": "demos-dev",
      "space_id": "f902086a-c66d-44f6-a1d6-1e92c4f0fef8",
      "uris": [],
      "users": null,
      "application_id": "c9596a69-b144-4950-b726-16afa8273133",
      "version": "d2579a7d-d8c0-4750-bc9f-a62059b22cdd",
      "application_version": "d2579a7d-d8c0-4750-bc9f-a62059b22cdd"
    }
  }
}
                    </code></pre>
                </div>
            </section>

            <section>
                <h6>Cloud Foundry Interlude - <span style="color:cadetblue;">Service Management</span> - <span
                        style="color:crimson;font-size: large;"> Devbox</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Each service exposed to public IP needs to be registered against at least one UAA service
                            <ul>
                                <li>Create a service with UAA authentication:
                                    <ul>
                                        <li><em>cf create-service {service name} {service plan} {service name instance} -c '{"trustedIssuerIds":["'${uaaIssuerId}'"]}'</em></li>
                                        <li><em>uaaIssuerId</em> can be retrieved using env variables of an app binded to a service
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>How to get the uaaIssuerId ?
                            <ul>
                                <li><em>cf bind-service {App Name} {service instance name}</em></li>
                                <li><em>cf env {App Name}</em>
                                    <ul>
                                        <li>Search for a <em>issuerId</em> tag</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Cloud Foundry Interlude - <span style="color:cadetblue;">Env Automation</span> - <span
                        style="color:crimson;font-size: large;"> Devbox & OSX</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    Easy env access
                    <pre><code data-trim data-noescape>
export cftempapp_dir=`mktemp -d /tmp/cfapp-XXXXXX`
cd $cftempapp_dir
export cftempapp_name=${PWD##*/}
touch Procfile
cf push $cftempapp_name -b http://github.com/ryandotsmith/null-buildpack.git --no-start --no-route -m 32m >/dev/null
cf bs $cftempapp_name uaa-lab >/dev/null
export cftempapp_guid=`cf app uaa-lab --guid`
cf curl /v2/apps/$cftempapp_guid/env
cf delete $cftempapp_name -f >/dev/null
cd
rm -f $cftempapp_dir/Procfile
rmdir $cftempapp_dir
                    </code></pre>
                    As you can see there some inter dependencies between services, it's important to be able to
                    script service configuration as much as possible
                </div>

                <div style="float: bottom;width:100%;font-size: x-large;" align="left">
                    This task of fetching fields from the <em>VCAP</em> variable is done so often that a script is
                    really handy:
                    <ul>
                        <li>
                            <em>
                                <a href="./cfcred.sh">cfcred.sh</a> {service1} {service2} ...
                            </em>
                        </li>
                    </ul>
                    <br/>
                    This will output the <em>VCAP</em> containing information related to all those services.
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">TimesSeries </span> <span
                        style="color:crimson;font-size: large;"> Devbox</span></h6>
                <div style="float:top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Create a client named <em>timeseries-ingestion-client</em> using <em>predix cli</em> </li>
                        <li>Create a <em>predix-timeseries</em> services using the <em>predix cli</em> named <em>timeseries-lab</em>
                        </li>
                        <li class="fragment fade-up" > Automated way:
                            <div style="float: top;width:100%;font-size: x-large;">
                                <pre><code data-trim data-noescape>
predix uaa client create timeseries-ingestion-client -s timeseries-ingestion-client --authorized_grant_types client_credentials
predix create-service predix-timeseries Free timeseries-lab uaa-lab -c timeseries-ingestion-client -s timeseries-ingestion-client
                                </code></pre>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>


            <section>
                <h6>Data Ingestion/Query - <span style="color:cadetblue;">Data Ingestion</span></h6>

                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>To perform data ingestion we need to open a web socket with a header containing :
                            <ul>
                                <li>Authorization: Bearer {TOKEN}</li>
                                <li>Predix-Zone-Id: {ZONE}</li>
                                <li>Origin: {Origin}</li>
                            </ul>
                        </li>
                        <li>Once the web socket is opened we can send our data as a json payload
                            <pre><code data-trim data-noescape>
{
   "messageId":"{MessageID}",
   "body":[
      {
         "name":"{TagName (Required)}",
         "datapoints":[
            [
               "{EpochInMs (Required)}",
               "{Measure (Required)}",
               "{Quality (Optional)}"
            ]
         ],
         "attributes (Optional)":{
            "{AttributeKey}":"{AttributeValue}",
            "{AttributeKey2}":"{AttributeValue2}"
         }
      }
   ]
}
                            </code></pre>
                        </li>
                    </ul>
                </div>
                <div style="float: bottom;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>
                            Accessing a Timeseries service require a token generated by UAA service using <br/><em>Resource
                            access</em> aka <em>client_credentials</em>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Predix Dev Tools Interlude - <span style="color:cadetblue;">Predix Toolkit</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>
                            It's often desirable to be able to execute some simple operation like
                            <ul>
                                <li>open web socket</li>
                                <li>test uaa client</li>
                                <li>Test Predix services API</li>
                            </ul>
                            without having to create our own script each time.
                        </li>
                    </ul>
                </div>
                <div style="float: bottom;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>
                            For this reason the Predix Team created the <em>predix-toolkit</em> tool UI :
                            <a href="https://predix-toolkit.run.aws-usw02-pr.ice.predix.io/"> Predix Toolkit</a>
                        </li>
                        <li>Depending on the data center you are using select the proper Availibility Zones (US West) for Us
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">TimesSeries </span> <span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float:top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>
                            Using the predix toolkit tools <em>API explorer</em> try to open a web socket to the
                            timeseries service
                        </li>
                        <li>
                            This can be done in the <em>API explorer</em> tab
                        </li>
                        <li><em>Login as Client</em> :
                            <ul>
                                <li>id: <em>timeseries-ingestion-client</em></li>
                                <li>secret: <em>timeseries-ingestion-client</em>                                                                                               </li>
                            </ul>
                            the client you just created and use the uaa url : <br/><em>https://lab-{your
                                initials}.predix-uaa.run.aws-usw02-pr.ice.predix.io</em></li>
                        <li>Go to <em>Time Series Ingest</em> item and put your <em>predix-zone-id</em> you've retrieved
                            previously
                        </li>
                        <li>Click on <em>Open Socket</em></li>
                    </ul>
                </div>
            </section>

            <!--<section>-->
                <!--<h6>Cloud Foundry Interlude - <span style="color:cadetblue;"> UAA Groups </span> - <span-->
                        <!--style="color:crimson;font-size: large;"> Devbox & OSX</span></h6>-->
                <!--<div style="float: top;width:100%;font-size: x-large;" align="left">-->
                    <!--<ul>-->
                        <!--<li>Our request include the <em>predix-zone-id</em> in the header</li>-->
                        <!--<li>But our token do not include any zone related information</li>-->
                    <!--</ul>-->
                <!--</div>-->
                <!--<div style="float: bottom;width:100%;font-size: x-large;" align="left">-->
                    <!--<ul>-->
                        <!--<li>UAA offers the concept of groups that can be used to enable expression of common Group or-->
                            <!--role based access control models-->
                        <!--</li>-->
                        <!--<li class="fragment fade-left">-->
                            <!--For Predix Services the naming convention is :-->
                            <!--<ul>-->
                                <!--<li>-->
                                    <!--{servicename}.zones.{Predix-Zone-Id}.{role}-->
                                <!--</li>-->
                            <!--</ul>-->
                        <!--</li>-->
                        <!--<li class="fragment fade-left"> For Time Series Eg:-->
                            <!--<ul>-->
                                <!--<li><em>timeseries.zones.{Predix-Zone-Id}.user</em> group to allow general access-->
                                <!--</li>-->
                                <!--<li><em>timeseries.zones.{Predix-Zone-Id}.query</em> group to allow query access-->
                                <!--</li>-->
                                <!--<li><em>timeseries.zones.{Predix-Zone-Id}.ingest</em> group to allow ingest access-->
                                <!--</li>-->
                            <!--</ul>-->
                        <!--</li>-->
                        <!--<li class="fragment fade-left">-->
                            <!--To allow a client to perform data ingestion the client needs to contains in its scope:-->
                            <!--<ul>-->
                                <!--<li><em>timeseries.zones.{Predix-Zone-Id}.user</em> and</li>-->
                                <!--<li><em>timeseries.zones.{Predix-Zone-Id}.ingest</em></li>-->
                            <!--</ul>-->
                        <!--</li>-->
                        <!--<li class="fragment fade-left">-->
                            <!--It's absolutely possible (recommended) to create two clients : one for query and one for-->
                            <!--ingestion-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
            <!--</section>-->

            <!--<section>-->
                <!--<h6>Lab - <span style="color:deeppink;">Time Series Group & Ingestion</span> <span-->
                        <!--style="color:crimson;font-size: large;"> Devbox </span></h6>-->
                <!--<div style="width:100%;font-size: x-large;" align="left">-->
                    <!--<ul>-->
                        <!--<li>Using the UAA console create the three groups for the Time Series Services name <br/> <em>timeseries-lab</em>-->
                            <!--<ul>-->
                                <!--<li>The group management piece is in : <em>User Management</em> Tab</li>-->
                                <!--<li>Display Name and Description (can be empty)</li>-->
                            <!--</ul>-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
                <!--<br/>-->

                <!--<div style="width:100%;font-size: xx-large;" align="left">-->
                    <!--<ul>-->
                        <!--<li>Update <em>timeseries-client</em> using the UAA console to add to its <em>authorities</em>-->
                            <!--the three groups we just created-->
                        <!--</li>-->
                        <!--<li>Try to using the <em>predix-starter</em> tool open the socket again : Login as client then-->
                            <!--Open socket-->
                            <!--<pre><code data-trim data-noescape>-->
<!--{"socketId":2121290809009224200,"readyState":"OPEN"}-->
                            <!--</code></pre>-->
                        <!--</li>-->

                        <!--<li>Start ingesting some data by clicking on the Ingest Button-->
                            <!--<pre><code data-trim data-noescape>-->
<!--{"statusCode":202,"messageId":"1453338376222"}-->
                            <!--</code></pre>-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
            <!--</section>-->

            <!--<section>-->
                <!--<h6>Lab - <span style="color:deeppink;">Time Series Group </span> <span-->
                        <!--style="color:crimson;font-size: large;"> Non Devbox </span></h6>-->
                <!--<div style="width:100%;font-size: xx-large;" align="left">-->
                    <!--Automated Way:-->
                    <!--<pre><code data-trim data-noescape>-->
<!--predix uaa group create timeseries.zones.{predix-zone-id}.user-->
<!--predix uaa group create timeseries.zones.{predix-zone-id}.query-->
<!--predix uaa group create timeseries.zones.{predix-zone-id}.ingest-->
<!--predix uaa client update timeseries-client &#45;&#45;authorities "uaa.none timeseries.zones.{predix-zone-id}.user timeseries.zones.{predix-zone-id}.query timeseries.zones.{predix-zone-id}.ingest"-->
                        <!--</code>-->
                    <!--</pre>-->
                <!--</div>-->
            <!--</section>-->

            <section>
                <h6>Lab - <span style="color:deeppink;">Time Series Query </span> <span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Open the <em>Time Series Query</em> item</li>
                        <li><em>Select Limited Datapoints</em></li>
                        <li>Change <em>1y</em> into <em>3y</em></li>
                        <li>Enter the <em>predix-zone-id</em></li>
                        <li>Press Submit</li>
                    </ul>
                    <pre><code data-trim data-noescape>
{
  "tags": [
    {
      "name": "Compressor-2015:CompressionRatio",
      "results": [
        {
          "groups": [
            {
              "name": "type",
              "type": "number"
            }
          ],
          "values": [
            [
              1453338377222,
              10,
              1
            ],
            [
              1453338377222,
              10,
              1
            ]
          ],
          "attributes": {
            "customer": [
              "Acme"
            ],
            "host": [
              "server2"
            ],
            "valid": [
              "true"
            ]
          }
        }
      ],
      "stats": {
        "rawCount": 2
      }
    }
  ]
}
                    </code></pre>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Time Series Open Data ingestion </span> <span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Execute the following script <a href="download.sh">download.sh</a> this will download
                            few datasets
                        </li>
                        <li>Get the ingester client in the predix starter repository</li>
                        <li>Deploy it in your space with <em>cf p</em></li>
                        <br/>
                        <li>For your information this ingester is a python app that use plain web socket to perform the
                            ingestion
                        </li>
                        <ul>
                            <li>Open <em>ingest.py</em> and check the openWSS</li>
                            </li>
                            <li>Get the ingester client in the predix starter repository</li>
                            <li>Deploy it in your space with <em>cf p</em></li>
                            <br/>
                            <li>For your information this ingester is a python app that use plain web socket to perform the
                                ingestion
                            <li>We find our headers parameters just as described previously</li>
                        </ul>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Time Series Open Data ingestion </span> <span
                        style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Open Postman and create a new <em>POST</em> request to <br/> <em>https://timeseries-ingestion-service-{your
                            random route}.run.aws-usw02-pr.ice.predix.io/upload</em></li>
                        <li>Use the OAuth 2.0 helper to get a Bearer Token (use Client Credential in Grant Type)</li>
                        <li>In Body select <em>form-data</em> set <em>key</em> to <em>files[]</em> and <em>value</em>
                            set to <em>path to a json file</em> (Use drop down to change the type to file)
                        </li>
                        <li>Wait...</li>
                        <br/>
                        <li>Using <em>predix-toolkit</em> check that you have new tags and new values with the <em>Limited
                            Datapoints</em> Query
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Data Ingestion/Query - <span style="color:cadetblue;">Multi Language Client </span></h6>
                <ul>
                    <li><a href="#/JavaTS">Java</a></li>
                    <li><a href="#/PythonTS">Python</a></li>
                    <!--<li><a href="#/Node.JsTS">Node.js</a></li>-->
                </ul>
            </section>
        </section>

        <section>
            <section id="JavaTS">
                <h6> <span style="color:cadetblue;">TimeSeries Data Ingestion </span> - Java Client</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    The ingestion is done using a web socket but you need to implement OAuth2, reconnection, it's simpler to use the SDK<br>
                    <ul>
                        <li>Predix offers a <a href="https://artifactory.predix.io/artifactory/PREDIX-EXT/com/ge/predix/timeseries/timeseries-client/0.0.18/">Java SDK</a></li>
                        <li> The first things we need is to create a <em>TenantContext</em>
                            <pre><code data-trim data-noescape>
try {
    tenantContext = TenantContextFactory.createTenantContextFromPropertiesFile("/predix-timeseries.properties");
} catch (URISyntaxException | PredixTimeSeriesException | IOException e) {
    e.printStackTrace();
}
                            </code></pre>
There is several ways to create this tenant from a properties files, arguments, ... Have a look to this class for more information:
                            <pre><code data-trim data-noescape>
com.ge.predix.timeseries.client.TenantContextFactory
                           </code></pre>
                        </li>
                        <li>The rest of the code is just POJO filling
                            <pre><code data-trim data-noescape>
IngestionRequestBuilder ingestionBuilder = IngestionRequestBuilder
                                .createIngestionRequest()
                                .withMessageId(timestamp)
                                .addDataPoints(
                                    Arrays.asList(
                                        new DataPoint(new Date().getTime(), sensorValueAsInt, Quality.GOOD),
                                        new DataPoint(new Date().getTime(), sensorValueAsDouble, Quality.NOT_APPLICABLE),
                                        new DataPoint(new Date().getTime(), "Bad Value", Quality.BAD),
                                        new DataPoint(new Date().getTime(), null, Quality.UNCERTAIN)
                                    )
                                )
                                .addAttribute("AttributeKey", "AttributeValue")
                                .addAttribute("AttributeKey2", "AttributeValue2")
                                .build());
                            </code></pre>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab -  <span style="color:deeppink;">TimeSeries Data Ingestion </span> - Java Client</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Once the message have been created we need to extract the json:
                            <pre><code data-trim data-noescape>
String json = ingestionBuilder.build().get(0);
                            </code></pre>
                        </li>
                        <li>We can now send the message over the wire:
                            <pre><code data-trim data-noescape>
IngestionResponse response = ClientFactory.ingestionClientForTenant(ingestionTenant).ingest(json);
String responseStr = response.getMessageId() + response.getStatusCode();
                            </code></pre>
                        </li>
                        <li>&#9888 The error code is not obvious if you get a exception at this point like <em>PredixTimeSeriesException</em>
                            Just simply retry the <em>ingestionClientForTenant</em> web socket reconnection is handled by the SDK
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab -  <span style="color:deeppink;">TimeSeries Data Ingestion </span> - Java Application</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Checkout the branch <em>timeseries</em> and go to the directory <em>simple-predix-service</em></li>
                        <li>This application contains a simple java application exposing a REST endpoint <em>/api/v1/sensor</em></li>
                        <li>For Performance concerns the ingestion is not done each request but in batch fashion</li>
                        <li>Everything is done in the <em>ingester</em> package</li>
                        <li>To Deploy this application go to directory <em>simple-predix-service</em>
                            <pre><code data-trim data-noescape>
predix cf p
                            </code></pre>
                            Once deployed you can ingest some points using postman
                        </li>
                        <li>Create a POST request and put https://XXX.predix.io/api/v1/sensor and add as body
                            <pre><code data-trim data-noescape>
{
    "value":{{$randomInt}},
    "deviceId":"osx90r43y2",
    "ip": "192.168.1.1",
    "type":"mac",
    "msec": {{$timestamp}}
}
                            </code></pre>
                            Do not forget the token...
                        </li>
                        <li>Using predix toolkit check retreive your tags</li>
                        <li>Retreive some data points</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6><span style="color:cadetblue;">TimeSeries Data Query </span> - Java Application</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Doing a query is very simple <em> Just a REST call</em>
                            <ul>
                                <li>Do it by hand using any REST capable toolkit <em>or</em></li>
                                <li>Use the Java SDK</li>
                            </ul>
                        </li>
                    </ul>
                </div><br>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Two parts as for ingestion
                            <ul>
                                <li>Create Your Query Object
                                    <pre><code data-trim data-noescape>
QueryBuilder builder = QueryBuilder.createQuery()
        .withStartAbs(1427463525000L)
        .withEndAbs(1427483525000L)
        .addTags(
                QueryTag.Builder.createQueryTag()
                        .withTagNames(Arrays.asList("ALT_SENSOR", "TEMP_SENSOR"))
                        .withLimit(1000)
                        .addAggregation(Aggregation.Builder.averageWithInterval(1, TimeUnit.HOURS))
                        .addFilters(FilterBuilder.getInstance()
                                .addMeasurementFilter(FilterBuilder.Condition.GREATER_THAN_OR_EQUALS, Arrays.asList("23.1")).build())
                        .addFilters(FilterBuilder.getInstance()
                                .withQualitiesFilter(Arrays.asList(Quality.BAD, Quality.GOOD)).build())
                        .build());
                                    </code></pre>
                                </li>
                                <li>Then start the query:
                                    <pre><code data-trim data-noescape>
QueryResponse response = ClientFactory.queryClientForTenant(tenant).queryAll(builder.build());
                                    </code></pre>
                                </li>
                                <li>The <em>response</em> can be return as string after converting it to json</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Lab - <span style="color:deeppink;">TimeSeries Data Query </span> - Java Application</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Implement a REST endpoint in the <em>SensorController</em></li>
                        <li>Three Request Params
                            <ul>
                                <li><em>tag</em> tag that should be queried</li>
                                <li><em>startDate</em> in millisec the starting date</li>
                                <li><em>endDate</em> in millisec the ending date</li>
                            </ul>
                        </li>
                        <li>Pay attention to the return value it has to be json</li>
                        <li> You can try to your query using postman :
                            <pre><code data-trim data-noescape>
https://simple-predix-service-xxx-yyy.run.aws-usw02-pr.ice.predix.io/api/v1/sensor?tag=ZZZZ&startDate=OOOO&endDate={{$timestamp}}000
                            </code></pre>
                        </li>
                        <li class="fragment fade-up">
                            One solution
                            <pre><code data-trim data-noescape>
@GetMapping(path="/sensor", produces = "application/json")
String read(@RequestParam("tag") String tag, @RequestParam("startDate") String startDate, @RequestParam("endDate") String endDate) throws IOException, PredixTimeSeriesException {
    QueryBuilder builder = null;
        builder = QueryBuilder.createQuery()
                .withStartAbs(Long.parseLong(startDate))
                .withEndAbs(Long.parseLong(endDate))
                .addTags(
                        QueryTag.Builder.createQueryTag()
                                .withTagNames(Arrays.asList(tag))
                                               .build());

    QueryResponse response = null;
        response = ClientFactory.queryClientForTenant(ingester.getTenantContext()).queryAll(builder.build());

    Gson gson = new Gson();
    return gson.toJson(response);
}
                            </code></pre>
                        </li>
                    </ul>
                </div>
            </section>
        </section>

        <section>
            <section id="PythonTS">
                <h6> Lab - <span style="color:deeppink;">TimeSeries Data Ingestion </span> - Python SDK</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>You can do it by hand if you are familiar with python and websocket <em>or</em></li>
                        <li>Use the <em>predix</em> package</li>
                        <li>it's very easy to setup
                            <ul>
                                <li>First update your <em>manifest.yml</em> file make sure you have everything configured :
                                    <pre><code data-trim data-noescape>
services:
  - uaa-xxx
  - timeseries-xxx
env:
  PREDIX_APP_CLIENT_ID: rest-client
  PREDIX_APP_CLIENT_SECRET: rest-client
                                    </code></pre>
                                </li>
                                <li>
                                    Then every where you want to ingest some data:
                                    <pre><code data-trim data-noescape>
import predix.data.timeseries
ts = predix.data.timeseries.TimeSeries()
ts.send('tag name', value)
                                    </code></pre>
                                </li>
                            </ul>
                        </li>
                        <li>try to add a post methods to the <em>DHandler</em> class to ingest this payload:
                            <pre><code data-trim data-noescape>
{
  "value":{{$randomInt}},
  "deviceId":"osx90r43y2",
  "ip": "192.168.1.1",
  "type":"mac",
  "sec": {{$timestamp}},
  "usec": 0
}
                            </code></pre>
                        </li>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Lab -  <span style="color:deeppink;">TimeSeries Data Ingestion </span> - Python Application</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li> Here is one possible solution, by sending directly data to timeseries as soon as possible
                            <pre><code data-trim data-noescape>
from flask import request
from flask_restful import Resource
import predix.data.timeseries
import logging


class DHandler(Resource):

    def __init__(self):
        self.ts = predix.data.timeseries.TimeSeries()

    def get(self):
        logging.debug(request.headers)
        return 'Hello World!', 200

    def post(self):
        logging.debug(request.headers)
        logging.debug(request.json)
        data = request.json
        self.ts.send(data['type']+'-'+data['deviceId'], data['value'])
        return 200
                            </code></pre>
                        </li>
                        <li class="fragment fade-up"></li>
                        <li>This solution could be improve by taking advantage of the <em>ts.queue</em> method
                        see <a href="https://predixpy.run.aws-usw02-pr.ice.predix.io/cookbook/index.html#timeseries-cookbook"> here </a>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab -  <span style="color:deeppink;">TimeSeries Data Query </span> - Python Application</span></h6>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>For Query you can use the SDK to simplify your development</li>
                        <li>The SDK support <em>get_datapoints</em> see doc <a href="https://predixpy.run.aws-usw02-pr.ice.predix.io/services/index.html#predix.data.timeseries.TimeSeries.get_datapoints">here </a> to do the query for you</li>
                    </ul>
                </div>
                <div style="width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li> Update the get method of the handler to query your recently ingested data</li>
                        <li>You will use Postman to test using this request:
                            <pre><code data-trim data-noescape>
https://simple-predix-service-xxx-yyy.run.aws-usw02-pr.ice.predix.io/api/v1/drones?tag=ZZZZ&startDate=1422022587000&endDate={{$timestamp}}000
                            </code></pre>
                        </li>
                        <li class="fragment fade-up">
                            One solution
                            <pre><code data-trim data-noescape>
def get(self):
    retval = self.ts.get_datapoints(tags=request.args['tag'], start=int(request.args['startDate']), end=int(request.args['endDate']))
    return retval, 200
                            </code></pre>
                        </li>
                    </ul>
                </div>
            </section>
        </section>

        <section>
            <h6><span style="color:green;"> Break</span></h6>
        </section>

        <section>
            <section>
                <h3>Data Management Lvl 2 and Descriptive Analytics</h3>
                <ul>
                    <li><b style="color:grey">&nbsp;&nbsp;9:00 – 10:45</b> Blob & SQL</li>
                    <li><b style="color:grey">10:45 – 11:00</b> Break</li>
                    <li><b style="color:grey">11:00 – 12:45</b> Asset & Key-Value</li>
                    <li><b style="color:grey">12:45 – 13:45</b> Lunch Break</li>
                    <li><b style="color:grey">13:45 – 14:45</b> Predix UI : Tooling Review & Vis Introduction</li>
                    <li><b style="color:grey">14:45 – 15:00</b> Break</li>
                    <li><b style="color:grey">15:00 – 17:00</b> Data Visualization Lvl 1</li>
                    <li><b style="color:grey">17:00 – 17:30</b> Q&A</li>
                </ul>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Blob - Simple Storage Service</span></h6>

                <div style="font-size: xx-large;" align="left">
                    <ul>
                        <li>Highly scalable data storage in-the-cloud</li>
                        <li>Programmatic access via web services API</li>
                        <li>Web store =! Filesystem
                            <ul>
                                <li>Optimized for WORM (write once, read many)</li>
                                <li>Eventually consistent</li>
                            </ul>
                        </li>
                        <li>Fast
                            <ul>
                                <li>But with a relatively high latency</li>
                            </ul>
                        </li>
                        <li>Highly available and durable !</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Blob - Eventually consistent</span></h6>

                <div style="font-size: xx-large;" align="left">
                    <ul>
                        <li>Updates to a key are atomic, succeed or fail. No partial update Replication across S3 can
                            take some time
                            <ul>
                                <li>Write
                                    <ul>
                                        <li>Write then read, could report key does not exist</li>
                                        <li>Write then list, might not include key in list</li>
                                        <li>Overwrite then read, old data could be returned</li>
                                    </ul>
                                </li>
                                <li>Delete
                                    <ul>
                                        <li>Delete then read, could still get old data</li>
                                        <li>Delete then list, deleted key could be included in list</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Blob - Storage structure </span></h6>
                <div style="font-size: xx-large;" align="left">
                    <ul>
                        <li>Bucket == Root</li>
                        <li>Bucket name <b>must</b> be globaly unique
                            <ul>
                                <li>companyname-project-xxx</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div style="font-size: xx-large;" align="left">
                    <img src="./images/s3-struct.png">
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Blob - Storage structure </span></h6>
                <div style="font-size: xx-large;" align="left">
                    <img src="./images/s3-struct-2.png">
                </div>
            </section>


            <section>
                <h6>Lab - <span style="color:deeppink;">Blob in CF </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Using the command line create a blob service named <em>blob-lab</em></li>
                        <li class="fragment fade-right"><em>predix cs predix-blobstore Tiered blob-lab -x</em>
                            <ul>
                                <li><em>-x</em> make it exposed to public internet</li>
                            </ul>
                        </li>
                        <li class="fade-right fragment"> You get some info after the creation:
                            <pre><code data-trim data-noescape>
{
  "access_key_id": "AKIAJTOHTWLM3R5L5OEA",
  "bucket_name": "bucket-2f260863-d236-4ed2-9952-c42523804578",
  "host": "s3-us-west-2.amazonaws.com",
  "secret_access_key": "x4RSwDCKVQpWYdFZQgyebIgqlL80FaeEjgFMRdZ0",
  "url": "https://bucket-2f260863-d236-4ed2-9952-c42523804578.s3-us-west-2.amazonaws.com"
}
                    </code></pre>
                        </li>
                        <li class="fragment fade-right"> The CF Blob service is in fact powered by AWS S3 !!!</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Blob - <span style="color:cadetblue;">Multi Language</span></h6>
                <ul>
                    <!--<li><a href="#/JavaBlob">Java</a></li>-->
                    <li><a href="#/PythonBlob">Python</a></li>
                    <!--<li><a href="#/Node.JsBlob">Node.js</a></li>-->
                </ul>
            </section>

        </section>

        <section>
            <!--<section id="JavaBlob">-->
                <!--<h6>Lab - <span style="color:deeppink;"> Using Blob Service with Java - </span><span-->
                        <!--style="color:crimson;font-size: large;"> Non Devbox & Devbox </span></h6>-->
                <!--<div style="float: top;width:100%;font-size: xx-large;" align="left">-->
                    <!--<ul>-->
                        <!--<li>Clone the git repository <em>https://github.com/BLaurent/predix-starter</em></li>-->
                        <!--<li>Checkout the branch blob</li>-->
                    <!--</ul>-->
                    <!--<br/>-->
                    <!--<ul>-->
                        <!--<li>Edit the <em>pom.xml</em> and add in the <em>properties</em>-->
                            <!--<pre><code data-trim data-noescape>-->
<!--&ltjclouds.version&gt2.0.0&lt/jclouds.version&gt-->
                            <!--</code></pre>-->
                        <!--</li>-->
                        <!--<li>In <em>dependencies</em> Add <em>JClouds</em>-->
                            <!--<pre><code data-trim data-noescape>-->
<!--&ltdependency&gt-->
    <!--&ltgroupId&gtorg.apache.jclouds&lt/groupId&gt-->
    <!--&ltartifactId&gtjclouds-all&lt/artifactId&gt-->
    <!--&ltversion&gt${jclouds.version}&lt/version&gt-->
<!--&lt/dependency&gt-->
                            <!--</code></pre>-->
                        <!--</li>-->

                        <!--<li> Add logging engine for JClouds-->
                            <!--<pre><code data-trim data-noescape>-->
<!--&ltdependency&gt-->
    <!--&ltgroupId&gtorg.apache.jclouds.driver&lt/groupId&gt-->
    <!--&ltartifactId&gtjclouds-slf4j&lt/artifactId&gt-->
    <!--&ltversion&gt${jclouds.version}&lt/version&gt-->
<!--&lt/dependency&gt-->
                            <!--</code></pre>-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
            <!--</section>-->

            <!--<section>-->
                <!--<h6>Lab - <span style="color:deeppink;font-size: x-large;"> Using Blob Service with Java - MultiPart Upload</span><span-->
                        <!--style="color:crimson;font-size: large;"> Non Devbox & Devbox </span></h6>-->
                <!--<div style="float: top;width:100%;font-size: xx-large;" align="left">-->
                    <!--<ul>-->
                        <!--<li>Create a new class to handle the route <em>blob</em>-->
                            <!--<ul class="fragment fade-right">-->
                                <!--<li>Add a <em>POST</em> method to support <em>Multipart</em> Upload-->
                                    <!--<pre><code data-trim data-noescape style="font-size:small;">-->
<!--@POST-->
<!--@Path("blob")-->
<!--@Consumes(MediaType.MULTIPART_FORM_DATA)-->
<!--public Response uploadFile(@Multipart(value = "vendor") String vendor,-->
                               <!--@Multipart(value = "uploadedFile") @NonNull Attachment attachment)-->
                                        <!--</code></pre>-->
                                <!--</li>-->
                                <!--<li> Add <em>blob-lab</em> in the service list in the <em>manifest.yml</em></li>-->
                            <!--</ul>-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
            <!--</section>-->

            <section id="PythonBlob">
                <h6>Lab - <span style="color:deeppink;"> Using Blob Service with Python - </span>
                    <span style="color:crimson;font-size: large;"> Devbox </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">

                    <ul>
                        <li>Make sur that you have cloned the repository :<em>https://github.com/BLaurent/predix-starter</em></li>
                        <li>Go to the <em>simple-predix-service-python</em> directory</li>
                        <li>Checkout the branch <em>blob</em>, <em>git checkout blob</em>
                            <ul>
                                <li>If you have issue with modified files locally execute <em>git stash</em></li>
                            </ul>
                        </li>
                        <li>Check that <em>manifest.yml</em> file to make sure that you have everything setup
                            <pre><code data-trim data-noescape>
---
applications:
  - name: simple-predix-service-python
    random-route: true
    timeout: 160
    memory: 256M
    disk_quota: 512M
    buildpack: https://github.com/cloudfoundry/python-buildpack.git
    services:
      - uaa-lab
      - blob-lab
    env:
      PREDIX_APP_CLIENT_ID: timeseries-ingestion-service
      PREDIX_APP_CLIENT_SECRET: timeseries-ingestion-service
                            </code></pre>
                        </li>
                    </ul>
                </div>
            </section>
            <section>
                <h6>Lab - <span style="color:deeppink;">Blobstore with Python </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li class="fragment fade-right">Wait there is no token here ?
                            Indeed blobstore rely on a different security mechanism
                        </li>
                        <li class="fragment fade-right">Predix py package will parse the environment of the application and figure out the credentials</li>
                        <li class="fragment fade-right">Update the <em>POST</em> to allow a user to upload a file to blobstore using your api
                            <ul>
                                <li>You can find the documentation <a href="https://predixpy.run.aws-usw02-pr.ice.predix.io/services/index.html#module-predix.data.blobstore">here</a></li>
                                <li>Flask can help you quite a lot in this process <a href="http://flask.pocoo.org/docs/0.12/patterns/fileuploads/">here</a></li>
                            </ul>
                        </li>
                        <li class="fragment fade-right">You may need to investigate json parsing of <em>datetime</em> object</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Blobstore with Python </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Update the <em>GET</em> to list the content of the bucket uploaded in the blobstore using your api
                            <ul>
                                <li>You can find the documentation <a href="https://predixpy.run.aws-usw02-pr.ice.predix.io/services/index.html#module-predix.data.blobstore">here</a></li>
                            </ul>
                        </li>
                        <li>Try to make the output pretty, avoid the double json encoding</li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;">Blobstore with Python </span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <pre><code data-trim data-noescape>
class DateTimeEncoder(json.JSONEncoder):
    def default(self, o):
        if isinstance(o, datetime):
            return o.isoformat()

class DHandler(Resource):

    def __init__(self):
        self.bs = predix.data.blobstore.BlobStore()

    def _allowed_file(self, filename):
        return '.' in filename and \
               filename.rsplit('.', 1)[1] in ALLOWED_EXTENSIONS

    def get(self):
        logging.debug(request.headers)
        return json.loads(json.dumps(self.bs.list_objects()['Contents'], cls=DateTimeEncoder)), 200

    def post(self):
        logging.debug(request.headers)
        logging.debug(request.json)
        for file in dict(request.files)['files[]']:
            if self._allowed_file(file.filename):
                filename = secure_filename(file.filename)
                path = os.path.join(current_app.config['UPLOAD_FOLDER'], filename)
                file.save(path)
                return self.bs.upload_file(path, file.filename), 200
            else:
                return file.filename + ' not ingested. File type not allowed.'
                    </code></pre>
                </div>
            </section>
        </section>

        <section>
            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Asset - The other kind of database</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Asset is meant to represent industrial assets</li>
                        <li>You have a notion of <em>collection</em> kind of template
                            <ul>
                                <li>The format to describe the asset is free </li>
                                <li>Only one constraints : <em>uri</em> you must have this field</li>
                            </ul>
                        </li>
                        <li>You create links between asset using the <em>uri</em></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Asset - The other kind of database</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Asset is meant to represent industrial assets</li>
                        <li>You have a notion of <em>collection</em> kind of template
                            <ul>
                                <li>The format to describe the asset is free </li>
                                <li>Only one constraints : <em>uri</em> you must have this field</li>
                            </ul>
                        </li>
                        <li>You create links between asset using the <em>uri</em></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Asset - The other kind of database</span></h6>
                <div style="font-size: xx-large;" align="center">
                    <img src="./images/SD00312097.png">
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Asset - The other kind of database</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    This is how you describe our manufacturers:
                    <pre><code data-trim data-noescape>
[
  { "uri": "/manufacturers/GE",
    "name": "General Electric Transportation",
    "year_founded": "1892" ,
    "hqLatLng":{"lat": 41.881138, "lng": -87.640666 }
  },

  {"uri": "/manufacturers/electro-motive-diesel",
    "name": "Electro-Motive Diesel",
    "year_founded": "1922",
    "hqLatLng": {"lat": 41.798091, "lng": -87.849247}
  },

  {"uri": "/manufacturers/national-railway-equipment",
    "name": "National Railway Equipment",
    "year_founded": "1984",
    "hqLatLng": {"lat": 41.515181 , "lng":-90.411707 }
  },

  {"uri": "/manufacturers/cummins",
    "name": "Cummins",
    "year_founded": "1919",
    "hqLatLng": {"lat":39.204000, "lng": -85.922910}
  }
]
                    </code></pre>
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Asset - The other kind of database</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    This is how you describe our engines:
                    <pre><code data-trim data-noescape>
[
  {
    "uri": "/engines/v12-1",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-2",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-3",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-4",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-5",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-6",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-7",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-8",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-9",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-10",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-11",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-12",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-13",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-14",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-15",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-16",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-17",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-18",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v12-19",
    "type": "7FDL",
    "horsepower": "4400",
    "stroke": "230",
    "bore": "220",
    "RPM": "2400",
    "manufacturer": "/manufacturers/GE"
  },

  {
    "uri": "/engines/v16-1",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-2",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-3",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-4",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-5",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-6",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-7",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-8",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-9",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-10",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-11",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-12",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-13",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-14",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-15",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-16",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-17",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-18",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },
  {
    "uri": "/engines/v16-19",
    "type": "7FD",
    "horsepower": "4400",
    "stroke": "210",
    "bore": "220",
    "RPM": "900",
    "manufacturer": "/manufacturers/GE"
  },

  {
    "uri": "/engines/v16-2-1",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-2",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-3",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-4",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-5",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-6",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-7",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-8",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-9",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-10",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-11",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-12",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },
  {
    "uri": "/engines/v16-2-13",
    "type": "710",
    "horsepower": "4300",
    "stroke": "250",
    "bore": "200",
    "RPM": "215",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },

  {
    "uri": "/engines/645",
    "type": "7FDL",
    "horsepower": "1500",
    "stroke": "190",
    "bore": "230",
    "RPM": "900",
    "manufacturer": "/manufacturers/electro-motive-diesel"
  },

  {
    "uri": "/engines/QSK19-1",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-2",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-3",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-4",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-5",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-6",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-7",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-8",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-9",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-10",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-11",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-12",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-13",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-14",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-15",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-16",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-17",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },{
  "uri": "/engines/QSK19-18",
  "type": "Diesel",
  "horsepower": "2100",
  "stroke": "159",
  "bore": "159",
  "RPM": "800",
  "manufacturer": "/manufacturers/cummins"
},{
  "uri": "/engines/QSK19-19",
  "type": "Diesel",
  "horsepower": "2100",
  "stroke": "159",
  "bore": "159",
  "RPM": "800",
  "manufacturer": "/manufacturers/cummins"
},
  {
    "uri": "/engines/QSK19-20",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-21",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-22",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-23",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-24",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-25",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-26",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-27",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },
  {
    "uri": "/engines/QSK19-28",
    "type": "Diesel",
    "horsepower": "2100",
    "stroke": "159",
    "bore": "159",
    "RPM": "800",
    "manufacturer": "/manufacturers/cummins"
  },


  {
    "uri": "/engines/v20-1",
    "type": "7FDL",
    "horsepower": "5000",
    "stroke": "230",
    "bore": "230",
    "RPM": "650",
    "manufacturer": "/manufacturers/national-railway-equipment"
  },
  {
    "uri": "/engines/v20-2",
    "type": "7FDL",
    "horsepower": "5000",
    "stroke": "230",
    "bore": "230",
    "RPM": "650",
    "manufacturer": "/manufacturers/national-railway-equipment"
  },
  {
    "uri": "/engines/v20-3",
    "type": "7FDL",
    "horsepower": "5000",
    "stroke": "230",
    "bore": "230",
    "RPM": "650",
    "manufacturer": "/manufacturers/national-railway-equipment"
  },
  {
    "uri": "/engines/v20-4",
    "type": "7FDL",
    "horsepower": "5000",
    "stroke": "230",
    "bore": "230",
    "RPM": "650",
    "manufacturer": "/manufacturers/national-railway-equipment"
  },
  {
    "uri": "/engines/v20-5",
    "type": "7FDL",
    "horsepower": "5000",
    "stroke": "230",
    "bore": "230",
    "RPM": "650",
    "manufacturer": "/manufacturers/national-railway-equipment"
  },
  {
    "uri": "/engines/v20-6",
    "type": "7FDL",
    "horsepower": "5000",
    "stroke": "230",
    "bore": "230",
    "RPM": "650",
    "manufacturer": "/manufacturers/national-railway-equipment"
  },
  {
    "uri": "/engines/v20-7",
    "type": "7FDL",
    "horsepower": "5000",
    "stroke": "230",
    "bore": "230",
    "RPM": "650",
    "manufacturer": "/manufacturers/national-railway-equipment"
  }
]
                    </code></pre>
                </div>
            </section>

            <section>
                <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Asset - The other kind of database</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    This is how you describe our fleet:
                    <pre><code data-trim data-noescape>
[
  {
    "uri": "/fleets/up-1",
    "name": "Union Pacific Fleet 1",
    "customer": "/customers/union-pacific"
  },
  {
    "uri": "/fleets/up-2",
    "name": "Union Pacific Fleet 2",
    "customer": "/customers/union-pacific"
  },
  {
    "uri": "/fleets/up-3",
    "name": "Union Pacific Fleet 3",
    "customer": "/customers/union-pacific"
  },
  {
    "uri": "/fleets/up-4",
    "name": "Union Pacific Fleet 4",
    "customer": "/customers/union-pacific"
  }
, {
  "uri": "/fleets/up-5",
  "name": "Union Pacific Fleet 5",
  "customer": "/customers/union-pacific"
  },

  {
  "uri": "/fleets/bnsf-1",
  "name": "Burlington Northern Fleet 1",
  "customer": "/customers/burlington-northern-santa-fe"
  },
  {
    "uri": "/fleets/bnsf-2",
    "name": "Burlington Northern Fleet 2",
    "customer": "/customers/burlington-northern-santa-fe"
  },
  {
  "uri": "/fleets/bnsf-3",
  "name": "Burlington Northern Fleet 3",
  "customer": "/customers/burlington-northern-santa-fe"
  },
  {
    "uri": "/fleets/bnsf-4",
    "name": "Burlington Northern Fleet 4",
    "customer": "/customers/burlington-northern-santa-fe"
  },
  {
  "uri": "/fleets/bnsf-5",
  "name": "Burlington Northern Fleet 5",
  "customer": "/customers/burlington-northern-santa-fe"
  },
  {
    "uri": "/fleets/csx-1",
    "name": "CSX Fleet 1",
    "customer": "/customers/csx"
  },
  {
    "uri": "/fleets/csx-2",
    "name": "CSX Fleet 2",
    "customer": "/customers/csx"
  },
  {
    "uri": "/fleets/csx-3",
    "name": "CSX Fleet 3",
    "customer": "/customers/csx"
  },
  {
    "uri": "/fleets/ns-1",
    "name": "Norfolk Southern Fleet 1",
    "customer": "/customers/norfolk-southern"
  },
  {
    "uri": "/fleets/ns-2",
    "name": "Norfolk Southern Fleet 2",
    "customer": "/customers/norfolk-southern"
  },

  {
    "uri": "/fleets/cn-1",
    "name": "Canadian National Fleet 1",
    "customer": "/customers/canadian-national"
  },
  {
    "uri": "/fleets/cn-2",
    "name": "Canadian National Fleet 2",
    "customer": "/customers/canadian-national"
  },
  {
    "uri": "/fleets/cn-3",
    "name": "Canadian National Fleet 3",
    "customer": "/customers/canadian-national"
  },
  {
    "uri": "/fleets/cn-4",
    "name": "Canadian National Fleet 4",
    "customer": "/customers/canadian-national"
  },
  {
    "uri": "/fleets/cn-5",
    "name": "Canadian National Fleet 5",
    "customer": "/customers/canadian-national"
  },
  {
    "uri": "/fleets/cn-6",
    "name": "Canadian National Fleet 6",
    "customer": "/customers/canadian-national"
  },
  {
    "uri": "/fleets/cn-7",
    "name": "Canadian National Fleet 7",
    "customer": "/customers/canadian-national"
  },
  {
    "uri": "/fleets/cn-8",
    "name": "Canadian National Fleet 8",
    "customer": "/customers/canadian-national"
  }
]
                    </code></pre>
                </div>
            </section>

            <section>
               <h6>Data Management Lvl 2 - <span style="color:cadetblue;">Asset - The other kind of database</span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    This is how you describe our locomotives:
                    <pre><code data-trim data-noescape>
[
    {
        "uri": "/locomotives/1",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "001",
        "emission_tier": "0+",
        "fleet": "/fleets/up-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-1",
        "installedOn": "01/12/2005",
        "dateIso": "2005-12-01T13:15:31Z",
        "hqLatLng": {
            "lat": 33.914605,
            "lng": -117.253374
        }
    },
    {
        "uri": "/locomotives/2",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "002",
        "emission_tier": "0+",
        "fleet": "/fleets/up-1",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-1",
        "hqLatLng": {
            "lat": 47.655492,
            "lng": -117.427025
        }
    },
    {
        "uri": "/locomotives/3",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "003",
        "emission_tier": "0+",
        "fleet": "/fleets/up-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-2",
        "installedOn" : "02/12/2005",
        "dateIso": "2005-12-02T13:15:31Z",
        "hqLatLng": {
            "lat": 46.860395,
            "lng": -109.473494
        }
    },
    {
        "uri": "/locomotives/4",
        "type": "Diesel-electric",
        "model": "AD40SPe",
        "serial_no": "004",
        "emission_tier": "0+",
        "fleet": "/fleets/up-2",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-2",
        "hqLatLng": {
            "lat": 45.784314,
            "lng": -108.500856
        }
    },
    {
        "uri": "/locomotives/5",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "005",
        "emission_tier": "0+",
        "fleet": "/fleets/up-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-3",
        "installedOn": "10/12/2005",
        "dateIso": "2005-12-10T13:15:31Z",
        "hqLatLng": {
            "lat": 35.022757,
            "lng": -83.009365
        }
    },
    {
        "uri": "/locomotives/6",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "006",
        "emission_tier": "0+",
        "fleet": "/fleets/up-2",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-3",
        "installedOn": "11/12/2005",
        "dateIso": "2005-12-11T13:15:31Z",
        "hqLatLng": {
            "lat": 33.120118,
            "lng": -81.563755
        }
    },
    {
        "uri": "/locomotives/7",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "007",
        "emission_tier": "0+",
        "fleet": "/fleets/up-3",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-4",
        "installedOn": "12/12/2005",
        "dateIso": "2005-12-12T13:15:31Z",
        "hqLatLng": {
            "lat": 36.739438,
            "lng": -79.66268
        }
    },
    {
        "uri": "/locomotives/8",
        "type": "Diesel-electric",
        "model": "GL23TCe",
        "serial_no": "008",
        "emission_tier": "0+",
        "fleet": "/fleets/up-3",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-4",
        "hqLatLng": {
            "lat": 41.876813,
            "lng": -113.717141
        }
    },
    {
        "uri": "/locomotives/9",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "009",
        "emission_tier": "0+",
        "fleet": "/fleets/up-3",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-5",
        "hqLatLng": {
            "lat": 36.669408,
            "lng": -115.617391
        }
    },
    {
        "uri": "/locomotives/10",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "0010",
        "emission_tier": "0+",
        "fleet": "/fleets/up-4",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-5",
        "hqLatLng": {
            "lat": 47.941049,
            "lng": -100.126484
        }
    },
    {
        "uri": "/locomotives/11",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "0011",
        "emission_tier": "0+",
        "fleet": "/fleets/up-4",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-6",
        "hqLatLng": {
            "lat": 32.7086,
            "lng": -108.190375
        }
    },
    {
        "uri": "/locomotives/12",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "0012",
        "emission_tier": "0+",
        "fleet": "/fleets/up-4",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-6",
        "hqLatLng": {
            "lat": 34.099394,
            "lng": -90.261741
        }
    },
    {
        "uri": "/locomotives/13",
        "type": "Diesel-electric",
        "model": "GL23TCe",
        "serial_no": "0013",
        "emission_tier": "0+",
        "fleet": "/fleets/up-5",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-7",
        "hqLatLng": {
            "lat": 36.050366,
            "lng": -91.340363
        }
    },
    {
        "uri": "/locomotives/14",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "0014",
        "emission_tier": "0+",
        "fleet": "/fleets/up-5",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-7",
        "hqLatLng": {
            "lat": 35.931077,
            "lng": -79.643374
        }
    },
    {
        "uri": "/locomotives/15",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "0015",
        "emission_tier": "0+",
        "fleet": "/fleets/up-5",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-8",
        "hqLatLng": {
            "lat": 45.314087,
            "lng": -90.969283
        }
    },
    {
        "uri": "/locomotives/16",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0016",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-1",
        "hqLatLng": {
            "lat": 47.781463,
            "lng": -116.940009
        }
    },
    {
        "uri": "/locomotives/17",
        "type": "",
        "model": "B40-8",
        "serial_no": "0017",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-8",
        "hqLatLng": {
            "lat": 32.863603,
            "lng": -97.327141
        }
    },
    {
        "uri": "/locomotives/18",
        "type": "Diesel-electric",
        "model": "MP15AC",
        "serial_no": "0018",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-1",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/645",
        "hqLatLng": {
            "lat": 42.090136,
            "lng": -102.875767
        }
    },
    {
        "uri": "/locomotives/19",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0019",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-1",
        "hqLatLng": {
            "lat": 32.147267,
            "lng": -83.87744
        }
    },
    {
        "uri": "/locomotives/20",
        "type": "Diesel-electric",
        "model": "ES44DC",
        "serial_no": "0020",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-9",
        "hqLatLng": {
            "lat": 38.191536,
            "lng": -85.472672
        }
    },
    {
        "uri": "/locomotives/21",
        "type": "Diesel-electric",
        "model": "SD80MAC",
        "serial_no": "0021",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/v20-1",
        "hqLatLng": {
            "lat": 43.49188,
            "lng": -122.944105
        }
    },
    {
        "uri": "/locomotives/22",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0022",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-2",
        "hqLatLng": {
            "lat": 45.96556,
            "lng": -116.989515
        }
    },
    {
        "uri": "/locomotives/23",
        "type": "Diesel-electric",
        "model": "ES44DC",
        "serial_no": "0023",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-10",
        "hqLatLng": {
            "lat": 41.788715,
            "lng": -114.601854
        }
    },
    {
        "uri": "/locomotives/24",
        "type": "Diesel-electric",
        "model": "SD80MAC",
        "serial_no": "0024",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/v20-2",
        "hqLatLng": {
            "lat": 38.097843,
            "lng": -118.161825
        }
    },
    {
        "uri": "/locomotives/25",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0025",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-3",
        "hqLatLng": {
            "lat": 38.12204,
            "lng": -106.260561
        }
    },
    {
        "uri": "/locomotives/26",
        "type": "Diesel-electric",
        "model": "ES44DC",
        "serial_no": "0026",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-11",
        "hqLatLng": {
            "lat": 36.628722,
            "lng": -103.908348
        }
    },
    {
        "uri": "/locomotives/27",
        "type": "Diesel-electric",
        "model": "SD80MAC",
        "serial_no": "0027",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/v20-3",
        "hqLatLng": {
            "lat": 33.544224,
            "lng": -104.506977
        }
    },
    {
        "uri": "/locomotives/28",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0028",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-4",
        "hqLatLng": {
            "lat": 36.87125,
            "lng": -102.557858
        }
    },
    {
        "uri": "/locomotives/29",
        "type": "Diesel-electric",
        "model": "ES44DC",
        "serial_no": "0029",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-3",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-12",
        "hqLatLng": {
            "lat": 34.708707,
            "lng": -97.179306
        }
    },
    {
        "uri": "/locomotives/30",
        "type": "Diesel-electric",
        "model": "SD80MAC",
        "serial_no": "0030",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/v20-4",
        "hqLatLng": {
            "lat": 41.103915,
            "lng": -78.286601
        }
    },
    {
        "uri": "/locomotives/31",
        "type": "Diesel-electric",
        "model": "SD80MAC",
        "serial_no": "0031",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/v20-5",
        "hqLatLng": {
            "lat": 31.351436,
            "lng": -105.258803
        }
    },
    {
        "uri": "/locomotives/32",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0032",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-5",
        "hqLatLng": {
            "lat": 30.062855,
            "lng": -102.111381
        }
    },
    {
        "uri": "/locomotives/33",
        "type": "Diesel-electric",
        "model": "ES44DC",
        "serial_no": "0033",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-4",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-13",
        "hqLatLng": {
            "lat": 26.634179,
            "lng": -98.514328
        }
    },
    {
        "uri": "/locomotives/34",
        "type": "Diesel-electric",
        "model": "SD80MAC",
        "serial_no": "0034",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/v20-6",
        "hqLatLng": {
            "lat": 29.93051,
            "lng": -95.969945
        }
    },
    {
        "uri": "/locomotives/35",
        "type": "Diesel-electric",
        "model": "ES44DC",
        "serial_no": "0035",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-5",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-14",
        "hqLatLng": {
            "lat": 44.940593,
            "lng": -110.825888
        }
    },
    {
        "uri": "/locomotives/36",
        "type": "Diesel-electric",
        "model": "SD80MAC",
        "serial_no": "0036",
        "emission_tier": "0+",
        "fleet": "/fleets/bnsf-5",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/v20-7",
        "hqLatLng": {
            "lat": 41.307371,
            "lng": -104.574386
        }
    },
    {
        "uri": "/locomotives/37",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "0037",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-15",
        "hqLatLng": {
            "lat": 43.488604,
            "lng": -116.913932
        }
    },
    {
        "uri": "/locomotives/38",
        "type": "Diesel-electric",
        "model": "GL23TCe",
        "serial_no": "0038",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-1",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-9",
        "hqLatLng": {
            "lat": 40.26462,
            "lng": -74.496063
        }
    },
    {
        "uri": "/locomotives/39",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "0039",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-16",
        "hqLatLng": {
            "lat": 43.650927,
            "lng": -74.570743
        }
    },
    {
        "uri": "/locomotives/40",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "0040",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-2",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-10",
        "hqLatLng": {
            "lat": 41.394707,
            "lng": -83.905661
        }
    },
    {
        "uri": "/locomotives/41",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "0041",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-17",
        "hqLatLng": {
            "lat": 45.40759,
            "lng": -103.471649
        }
    },
    {
        "uri": "/locomotives/42",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "0042",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-2",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-11",
        "hqLatLng": {
            "lat": 42.284877,
            "lng": -99.513644
        }
    },
    {
        "uri": "/locomotives/43",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "0043",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-18",
        "hqLatLng": {
            "lat": 39.173252,
            "lng": -90.552123
        }
    },
    {
        "uri": "/locomotives/44",
        "type": "Diesel-electric",
        "model": "SD70ACe",
        "serial_no": "0044",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-2",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-12",
        "hqLatLng": {
            "lat": 40.775543,
            "lng": -123.336355
        }
    },
    {
        "uri": "/locomotives/45",
        "type": "Diesel-electric",
        "model": "ES44AC",
        "serial_no": "0045",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-3",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v12-19",
        "hqLatLng": {
            "lat": 41.394707,
            "lng": -119.079633
        }
    },
    {
        "uri": "/locomotives/46",
        "type": "Diesel-electric",
        "model": "GL23TCe",
        "serial_no": "0046",
        "emission_tier": "0+",
        "fleet": "/fleets/csx-3",
        "manufacturer": "/manufacturers/electro-motive-diesel",
        "engine": "/engines/v16-2-13",
        "hqLatLng": {
            "lat": 39.921845,
            "lng": -111.985095
        }
    },
    {
        "uri": "/locomotives/47",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0047",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-2",
        "hqLatLng": {
            "lat": 41.674215,
            "lng": -110.118111
        }
    },
    {
        "uri": "/locomotives/48",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0048",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-3",
        "hqLatLng": {
            "lat": 43.829065,
            "lng": -108.038521
        }
    },
    {
        "uri": "/locomotives/49",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0049",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-4",
        "hqLatLng": {
            "lat": 48.730575,
            "lng": -121.358846
        }
    },
    {
        "uri": "/locomotives/50",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0050",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-5",
        "hqLatLng": {
            "lat": 47.988616,
            "lng": -117.610012
        }
    },
    {
        "uri": "/locomotives/51",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0051",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-6",
        "hqLatLng": {
            "lat": 46.141609,
            "lng": -120.321935
        }
    },
    {
        "uri": "/locomotives/52",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0052",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-1",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-7",
        "hqLatLng": {
            "lat": 44.629206,
            "lng": -120.960034
        }
    },
    {
        "uri": "/locomotives/53",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0053",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-8",
        "hqLatLng": {
            "lat": 48.572493,
            "lng": -114.57904
        }
    },
    {
        "uri": "/locomotives/54",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0054",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-9",
        "hqLatLng": {
            "lat": 48.677936,
            "lng": -109.873057
        }
    },
    {
        "uri": "/locomotives/55",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0055",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-10",
        "hqLatLng": {
            "lat": 48.572493,
            "lng": -104.927787
        }
    },
    {
        "uri": "/locomotives/56",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0056",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-11",
        "hqLatLng": {
            "lat": 46.746176,
            "lng": -104.608737
        }
    },
    {
        "uri": "/locomotives/57",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0057",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-12",
        "hqLatLng": {
            "lat": 41.721683,
            "lng": -109.952819
        }
    },
    {
        "uri": "/locomotives/58",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0058",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-13",
        "hqLatLng": {
            "lat": 43.771496,
            "lng": -107.240897
        }
    },
    {
        "uri": "/locomotives/59",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0059",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-14",
        "hqLatLng": {
            "lat": 43.424917,
            "lng": -93.681285
        }
    },
    {
        "uri": "/locomotives/60",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0060",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-15",
        "hqLatLng": {
            "lat": 42.018661,
            "lng": -95.994395
        }
    },
    {
        "uri": "/locomotives/61",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0061",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-16",
        "hqLatLng": {
            "lat": 33.191119,
            "lng": -100.700378
        }
    },
    {
        "uri": "/locomotives/62",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0062",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-17",
        "hqLatLng": {
            "lat": 39.481317,
            "lng": -80.440722
        }
    },
    {
        "uri": "/locomotives/63",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0063",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-18",
        "hqLatLng": {
            "lat": 42.211153,
            "lng": -71.617224
        }
    },
    {
        "uri": "/locomotives/64",
        "type": "Diesel-electric",
        "model": "C40-8W ",
        "serial_no": "0064",
        "emission_tier": "0+",
        "fleet": "/fleets/ns-2",
        "manufacturer": "/manufacturers/GE",
        "engine": "/engines/v16-19",
        "hqLatLng": {
            "lat": 44.171027,
            "lng": -69.992906
        }
    },
    {
        "uri": "/locomotives/65",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0065",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-1",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-6",
        "hqLatLng": {
            "lat": 50.750961,
            "lng": -111.035917
        }
    },
    {
        "uri": "/locomotives/66",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0066",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-1",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-7",
        "hqLatLng": {
            "lat": 54.165178,
            "lng": -125.631473
        }
    },
    {
        "uri": "/locomotives/67",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0067",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-1",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-8",
        "hqLatLng": {
            "lat": 54.517653,
            "lng": -111.462679
        }
    },
    {
        "uri": "/locomotives/68",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0068",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-1",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-9",
        "hqLatLng": {
            "lat": 57.466212,
            "lng": -113.51957
        }
    },
    {
        "uri": "/locomotives/69",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0069",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-10",
        "hqLatLng": {
            "lat": 58.648156,
            "lng": -105.758545
        }
    },
    {
        "uri": "/locomotives/70",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0070",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-11",
        "hqLatLng": {
            "lat": 52.479733,
            "lng": -107.757597
        }
    },
    {
        "uri": "/locomotives/71",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0071",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-12",
        "hqLatLng": {
            "lat": 50.259228,
            "lng": -103.14772
        }
    },
    {
        "uri": "/locomotives/72",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0072",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-13",
        "hqLatLng": {
            "lat": 49.939207,
            "lng": -108.136696
        }
    },
    {
        "uri": "/locomotives/73",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0073",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-14",
        "hqLatLng": {
            "lat": 55.252082,
            "lng": -99.996572
        }
    },
    {
        "uri": "/locomotives/74",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0074",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-2",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-15",
        "hqLatLng": {
            "lat": 52.213168,
            "lng": -95.47359
        }
    },
    {
        "uri": "/locomotives/75",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0075",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-16",
        "hqLatLng": {
            "lat": 44.264612,
            "lng": -78.588661
        }
    },
    {
        "uri": "/locomotives/76",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0076",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-17",
        "hqLatLng": {
            "lat": 44.088886,
            "lng": -65.04682
        }
    },
    {
        "uri": "/locomotives/77",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0077",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-18",
        "hqLatLng": {
            "lat": 46.513021,
            "lng": -67.070163
        }
    },
    {
        "uri": "/locomotives/78",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0078",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-19",
        "hqLatLng": {
            "lat": 48.387737,
            "lng": -72.315866
        }
    },
    {
        "uri": "/locomotives/79",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0079",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-3",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-20",
        "hqLatLng": {
            "lat": 43.12077,
            "lng": -81.576942
        }
    },
    {
        "uri": "/locomotives/80",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0080",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-21",
        "hqLatLng": {
            "lat": 49.281775,
            "lng": -117.735624
        }
    },
    {
        "uri": "/locomotives/81",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0081",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-22",
        "hqLatLng": {
            "lat": 49.267239,
            "lng": -119.584813
        }
    },
    {
        "uri": "/locomotives/82",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0082",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-23",
        "hqLatLng": {
            "lat": 49.209053,
            "lng": -120.320033
        }
    },
    {
        "uri": "/locomotives/83",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0083",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-25",
        "hqLatLng": {
            "lat": 49.179934,
            "lng": -120.854738
        }
    },
    {
        "uri": "/locomotives/84",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0084",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-26",
        "hqLatLng": {
            "lat": 49.296307,
            "lng": -118.827314
        }
    },
    {
        "uri": "/locomotives/85",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0085",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-27",
        "hqLatLng": {
            "lat": 49.640363,
            "lng": -126.242998
        }
    },
    {
        "uri": "/locomotives/86",
        "type": "Diesel-electric",
        "model": "3GS21B",
        "serial_no": "0086",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-28",
        "hqLatLng": {
            "lat": 46.244201,
            "lng": -73.666786
        }
    },
    {
        "uri": "/locomotives/87",
        "type": "Diesel-electric",
        "model": "3GS21B-87",
        "serial_no": "0087",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-26",
        "hqLatLng": {
            "lat": 49.296307,
            "lng": -118.827314
        },
        "parent": "/locomotives/86",
        "installedOn": "05/12/2014",
        "dateIso": "2014-12-05T13:15:31Z"

    },
    {
        "uri": "/locomotives/88",
        "type": "Diesel-electric",
        "model": "3GS21B-88",
        "serial_no": "0085",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-27",
        "hqLatLng": {
            "lat": 49.640363,
            "lng": -126.242998
        },
        "parent": "/locomotives/87",
        "dateIso": "2015-11-05T13:15:30Z"

    },
    {
        "uri": "/locomotives/89",
        "type": "Diesel-electric",
        "model": "3GS21B-89",
        "serial_no": "0086",
        "emission_tier": "0+",
        "fleet": "/fleets/cn-4",
        "manufacturer": "/manufacturers/national-railway-equipment",
        "engine": "/engines/QSK19-28",
        "hqLatLng": {
            "lat": 46.244201,
            "lng": -73.666786
        },
        "parent": "/locomotives/88",
        "installedOn": "05/12/2015",
       "dateIso": "2015-12-05T13:15:31Z"
    }
]
                </code></pre>
                </div>
            </section>

            <section>
                <h6>Lab- <span style="color:deeppink;">Asset - The other kind of database</span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Create a client <em>asset-client</em> using the command line</li>
                        <li>Create an asset service <em>asset-lab</em> using the command line</li>
                        <li class="fragment fade-up" > Automated way:
                            <div style="float: top;width:100%;font-size: x-large;">
                                <pre><code data-trim data-noescape>
predix uaa client create asset-client -s asset-client --authorized_grant_types client_credentials
predix create-service predix-asset Free asset-lab uaa-lab -c asset-client -s asset-client
                                </code></pre>
                            </div>
                        </li>
                        <li class="fragment fade-up">  The result should be:
                            <pre><code data-trim data-noescape>
Checking if client asset-client exists on service instance uaa-lab
Client asset-client exists. The required authorities will be added to it.

Creating service instance asset-lab in org European_Foundry_Basic / space machine as Benoit.Laurent@ge.com
data: {"name":"asset-lab","space_guid":"40381acd-016a-4141-b5ee-ddf7bb6370d9","service_plan_guid":"f13446a3-c6a8-47cd-8bb3-f8c829c958ef","parameters":{"trustedIssuerIds":["https://uaa-bl.predix-uaa.run.aws-usw02-pr.ice.predix.io/oauth/token"]}}
OK


Updating client asset-client on Predix UAA instance uaa-lab
OK

Getting info for service instance asset-lab

{
  "instanceId": "8fd77b47-8efe-474d-9533-b5d0273b50bc",
  "scriptEngine_uri": "https://8fd77b47-8efe-474d-9533-b5d0273b50bc.predix-script-engine.run.aws-usw02-pr.ice.predix.io",
  "uri": "https://predix-asset.run.aws-usw02-pr.ice.predix.io",
  "zone": {
    "http-header-name": "Predix-Zone-Id",
    "http-header-value": "8fd77b47-8efe-474d-9533-b5d0273b50bc",
    "oauth-scope": "predix-asset.zones.8fd77b47-8efe-474d-9533-b5d0273b50bc.user"
  }
}
Note: Depending on the service broker implementation this info may change
Use the 'service-info' command to lookup the binding info for an app and service instance
                            </code></pre>
                        </li>
                    </ul>
                </div>

            </section>
        </section>

        <section>
            <section>
                    <h3>Data Vis Lvl 2 and Prescriptive Analytics Lvl1</h3>
                    <ul>
                        <li><b style="color:grey">&nbsp;&nbsp;9:00 – 10:45</b> Make it real-time</li>
                        <li><b style="color:grey">10:45 – 11:00</b> Break</li>
                        <li><b style="color:grey">11:00 – 12:45</b> Deployment</li>
                        <li><b style="color:grey">12:45 – 13:45</b> Lunch Break</li>
                        <li><b style="color:grey">13:45 – 14:45</b> Data Science Methodology</li>
                        <li><b style="color:grey">14:45 – 15:00</b> Break</li>
                        <li><b style="color:grey">15:00 – 17:00</b> Data Science Tooling & Predix Analytics Architecture
                        </li>
                    </ul>
                </section>

            <section>
                <h6>Prescriptive Analytics Lvl1- <span style="color:cadetblue;"> Overview Px Analytics </span></h6>
                <div style="font-size: x-large;" align="left">
                    <ul>
                        <li>Simplify developing advanced business analyses and deploying to production</li>
                        <li>Composed of three main components
                            <ul>
                                <li>Catalog
                                    <ul>
                                        <li>software catalog for sharing reusable analytics across development teams
                                        </li>
                                        <li>facilitates deploying analytics into production</li>
                                    </ul>
                                </li>
                                <li>Runtime
                                    <ul>
                                        <li>cloud-based framework on which developers can implement, test, and deploy
                                            new combinations (orchestrations) of analytics
                                        </li>
                                        <li>efficient, scalable, cloud-based approach for both the development and
                                            production
                                        </li>
                                    </ul>
                                </li>
                                <li>Ui
                                    <ul>
                                        <li>web application for data scientists to upload and test analytics</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Prescriptive Analytics Lvl1- <span style="color:cadetblue;">Public Px Analytics</span></h6>
                <div style="font-size: x-large;" align="left">
                    <ul>
                        <li>Analytic Developers
                            <ul>
                                <li>Ability to deploy analytics as Cloud Foundry compatible microservices without
                                    code
                                    changes.
                                </li>
                                <li>Ability to test and validate analytics in the cloud.
                                </li>
                                <li>Faster development by facilitating discovery, publication, and analytic sharing
                                    through classification and cataloging.
                                </li>
                            </ul>
                        </li>
                        <li>Application Developers
                            <ul>
                                <li>Faster analytic solution development by abstracting the complexity of developing
                                    and
                                    deploying orchestrations in the cloud.
                                </li>
                                <li>Ability to test and validate orchestrations in the cloud.
                                </li>
                                <li>Faster analytic solution deployment by favoring configuration over coding.
                                    Changes
                                    to orchestration configurations (data sources, asset applicability, and so on)
                                    have
                                    been simplified
                                </li>
                            </ul>
                        </li>
                        <li>Supports analytics written in <em>Java</em>, <em>Matlab</em> and <em>Python</em></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Prescriptive Analytics Lvl1- <span style="color:cadetblue;">Workflow Px Analytics</span></h6>
                <div style="-webkit-column-count: 2;">

                    <div style="font-size: x-large;" align="left">
                        <img src="./images/i_analytics_services_overview_simplified04.png">
                    </div>

                    <div style="font-size: large;" align="left">
                        <ol>
                            <li>Develop the Analytic
                                Develop the analytic in either Java, Matlab, or Python. This work is done outside of
                                Analytics
                                Services
                            </li>
                            <li>Publish the Analytic to the Analytics Catalog. Add the analytic to the Analytics Catalog
                                and upload the artifact
                            </li>
                            <li>Validate the Analytic
                                <ul>
                                    <li>Test the analytic with a sample data set and verify the results using the
                                        Analytics Catalog service
                                    </li>
                                    <li>If necessary, modify the analytic and upload new artifact to the catalog using
                                        the Analytics Catalog service
                                    </li>
                                </ul>
                            </li>
                            <li> Release the Analytic Deploy the analytic to the production environment using the
                                Analytics Catalog service
                            </li>
                            <li>Execute the Analytic
                                Execute an orchestration that includes the analytic using the Analytics Runtime service.
                                The Analytics Runtime service also provides a scheduling feature for running an
                                individual
                                analytic or an orchestration at time-based intervals
                            </li>
                        </ol>
                    </div>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Data Exploration </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Install docker for mac beta <a href="https://download.docker.com/mac/beta/Docker.dmg">install</a>
                        </li>
                        <li>In the pref of docker set the proxy <span
                                style="color:crimson;font-size: large;"> (If on GE Network) </span>
                            <ul>
                                <li><em>http://PITC-Zscaler-AmericasZ.proxy.corporate.ge.com:80</em></li>
                            </ul>
                        </li>
                        <li>Check that the network is working by doing:
                            <ul>
                                <li><em>docker run hello-world</em></li>
                            </ul>
                        </li>
                        <li>Do <em>docker run -d -p 8888:8888 jupyter/datascience-notebook</em></li>
                        <li>Wait ...</li>
                        <li>Open your browser to <a href="http://localhost:8888">http://localhost:8888</a></li>
                        <li>Import the following notebook <a
                                href="./GillesS.Desplumes.ipynb">GillesS.Desplumes.ipynb</a></li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Analytics Tools </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Clone the following repository
                            <br/><em>https://github.com/PredixDev/predix-analytics-sample</em></li>
                        <li>Open postman and import the postman directory</li>
                        <li>Setup OAuth2.0 with clientId <em>analytics-client</em> and clientSecret
                            <em>analytics-client</em></li>
                        <li>Explore some possibilities of the tools box
                            <ul>
                                <li>To get all uris use :
                                    <ul>
                                        <li><em>cf service analytics-catalog-lab --guid</em></li>
                                        <li><em>cf service analytics-runtime-lab --guid</em></li>
                                        <li><em>cf service analytics-ui-lab --guid</em></li>
                                        <li><em>cf service timeseries-lab --guid</em></li>
                                        <li><em>./cfcred.sh uaa-lab</em></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Analytics Tools </span></h6>
                <div style="float: top;width:100%;font-size: xx-large;" align="left">
                    <ul>
                        <li>Open the analytics UI
                            <em>https://lab-ge.predix-analytics-ui.run.aws-usw02-pr.ice.predix.io</em>
                            <ul>
                                <li>Login: <em>analytics-ui@ge.com</em></li>
                                <li>Password: <em>analytics-ui</em></li>
                            </ul>
                        </li>
                        <li>Import a new analytic <em>demo-adder</em>
                            <ul>
                                <li>Name : <em>demo-adder-py-{Your Initials}</em></li>
                                <li>Author Some name</li>
                                <li>Version: <em>{Your name}</em></li>
                                <li>Languages: <em>Python</em></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h6>Lab - <span style="color:deeppink;"> Test Analytics from catalog </span></h6>
                <div style="float: top;width:100%;font-size: x-large;" align="left">
                    <ul>
                        <li>Open Postman and select <em>Retrieve Analytic(s) By Name</em> in Analytics folder
                            <ul>
                                <li>Should end up by <em>/api/v1/catalog/analytics/versions?name=demo-adder-py-{Your Initials}</em>
                            </ul>
                        </li>
                        <li>Select <em>Execute Analytic</em> in the Validation Folder
                            <ul>
                                <li>Name : <em>demo-adder-py-{Your Initials}</em></li>
                                <li>Author Some name</li>
                                <li>Version: <em>{Your name}</em></li>
                                <li>Languages: <em>Python</em></li>
                            </ul>
                        </li>
                        <li></li>
                    </ul>
                </div>
            </section>

        </section>


        <!--<section>-->
        <!--<section id="PythonTS">-->
        <!--<h6>Data Ingestion/Query - <span style="color:cadetblue;">Python Client</span></h6>-->

        <!--</section>-->
        <!--</section>-->

        <!--<section>-->
        <!--<section id="Node.JsTS">-->
        <!--<h6>Data Ingestion/Query - <span style="color:cadetblue;">Node.js Client</span></h6>-->

        <!--</section>-->
        <!--</section>-->

        <!--https://m.popkey.co/01115d/jwevQ.gif-->
        <!--https://m.popkey.co/fe020c/v4x8k.gif-->
        <!--http://gif-finder.com/wp-content/uploads/2015/03/Anders-Holm-OMG.gif-->


        <section id="FastToken">
            <h6><span style="color:deeppink;"> FastToken why you really need it </span><span
                    style="color:crimson;font-size: large;">  </span></h6>
            <div align="left" >
                <h7>Without fast token:</h7>
            </div>
            <div style="float: top;width:100%;font-size: xx-large;">
                <ol>
                    <li>Send the request to UAA to get a token</li>
                    <li>Inject the token to your request</li>
                    <li>Check the token against UAA</li>
                    <li>Serve the response</li>
                </ol>
            </div>
            <div align="left" >
                <h7>With fast token:</h7>
            </div>
            <div style="float: top;width:100%;font-size: xx-large;">
                <ol>
                    <li>Send the request to UAA to get a token</li>
                    <li>Inject the token to your request</li>
                    <li>Check the token against local using the token key</li>
                    <li>Serve the response</li>
                </ol>
            </div>
            <div align="left" class="fragment fade-in">
                <h7>The second is way faster than the first one.</h7>
            </div>
        </section>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            history: true,

            // More info https://github.com/hakimel/reveal.js#dependencies
            dependencies: [
                {src: 'plugin/markdown/marked.js'},
                {src: 'plugin/markdown/markdown.js'},
                {src: 'plugin/notes/notes.js', async: true},
                {
                    src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
                }
            ]
        });
    </script>
</div>
</body>
</html>
